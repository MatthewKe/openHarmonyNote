<!DOCTYPE html><html><head>
      <title>note</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\keke2\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.9\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="分布式任务调度子系统轻量系统">分布式任务调度子系统（轻量系统） </h1>
<h2 id="三个模块">三个模块 </h2>
<p>dmsfwsk_lite：分布式任务调度实现（只支持FA）<br>
safwk_lite：负责提供基础服务运行的空进程（foundation进程实现），用以启动或初始化服务管理器，并使其持续运行<br>
samgr_lite：系统服务框架基于面向服务的架构，提供了服务开发、服务的子功能开发、对外接口的开发、以及多服务共进程、进程间服务调用等开发能力</p>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="288px" preserveAspectRatio="none" style="width:608px;height:288px;background:#FFFFFF;" version="1.1" viewBox="0 0 608 288" width="608px" zoomAndPan="magnify"><defs></defs><g><!--cluster ???????--><g id="cluster_轻量分布式调度"><rect fill="#FFFFFF" height="270" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="590" x="12" y="12"></rect><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="582" y="17"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="580" y="19"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="580" y="23"></rect><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105" x="254.5" y="37.9951">轻量分布式调度</text></g><!--cluster ?????--><g id="cluster_分布式框架"><rect fill="#FFFFFF" height="97" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="259" x="319" y="55"></rect><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="558" y="60"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="556" y="62"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="556" y="66"></rect><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="75" x="411" y="80.9951">分布式框架</text></g><!--cluster ????--><g id="cluster_服务管理"><rect fill="#FFFFFF" height="203" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="259" x="36" y="55"></rect><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="275" y="60"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="273" y="62"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="273" y="66"></rect><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="60" x="135.5" y="80.9951">服务管理</text></g><!--entity ????--><g id="elem_远程启动"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="96" x="466" y="90"></rect><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="542" y="95"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="540" y="97"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="540" y="101"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="56" x="481" y="122.9951">远程启动</text></g><!--entity ????--><g id="elem_远程调用"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="96" x="335" y="90"></rect><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="411" y="95"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="409" y="97"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="409" y="101"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="56" x="350" y="122.9951">远程调用</text></g><!--entity ????--><g id="elem_服务注册"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="96" x="52" y="90"></rect><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="128" y="95"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="126" y="97"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="126" y="101"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="56" x="67" y="122.9951">服务注册</text></g><!--entity ????--><g id="elem_服务发现"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="96" x="183" y="90"></rect><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="259" y="95"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="257" y="97"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="257" y="101"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="56" x="198" y="122.9951">服务发现</text></g><!--entity ?????--><g id="elem_服务间通信"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="110" x="52" y="196"></rect><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="142" y="201"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="140" y="203"></rect><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="140" y="207"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="70" x="67" y="228.9951">服务间通信</text></g><!--SRC=[Kop9ICrDLIZ8ISpCur80WkJyt8BylDIy4eKNUtU_REz_sj7sT4VpqptzBpOqFzsrh1gi25KXNCcpXMtFvcr3A44pR_-SvokwdqvO_xHh1LubG9kUJq4egSLYvRCvlK-x5ZvVj_3vX3PSza7KFDkyucbR3rubJ_idFk_RW5V9o-bRNZRCUh9_8PghQW40]--></g></svg></p><h2 id="samgrlite与soa架构">SamgrLite与SOA架构 </h2>
<h3 id="soa架构">SOA架构 </h3>
<blockquote>
<p>SOA，即面向服务的架构（Service-Oriented Architecture），是一种构建计算机软件的设计模式，其核心思想是将功能分解为单独的、定义良好的服务。这些服务通常为独立部署的、独立运行的软件组件，它们可以跨多种系统、应用和网络进行通信和交互。</p>
</blockquote>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="167px" preserveAspectRatio="none" style="width:279px;height:167px;background:#FFFFFF;" version="1.1" viewBox="0 0 279 167" width="279px" zoomAndPan="magnify"><defs></defs><g><!--entity Samgr--><g id="elem_Samgr"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="66" x="106" y="12"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="46" x="116" y="34.9951">Samgr</text></g><!--entity Provider--><g id="elem_Provider"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="80" x="12" y="125"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="60" x="22" y="147.9951">Provider</text></g><!--entity Consumer--><g id="elem_Consumer"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="92" x="181" y="125"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="191" y="147.9951">Consumer</text></g><!--reverse link Samgr to Consumer--><g id="link_Samgr_Consumer"><path d="M156.9275,53.0124 C164.1075,61.8574 169.165,68.1425 177,78 C189.545,93.7846 203.677,111.9046 213.707,124.8257 " fill="none" id="Samgr-backto-Consumer" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="153.146,48.354,155.7126,57.8625,156.2972,52.236,161.9238,52.8206,153.146,48.354" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52" x="191" y="91.0669">发现服务</text></g><!--reverse link Samgr to Provider--><g id="link_Samgr_Provider"><path d="M107.3316,51.5915 C96.2753,59.6375 88.8581,66.4743 80,78 C69.1361,92.1356 61.5163,111.1399 56.9971,124.7606 " fill="none" id="Samgr-backto-Provider" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="112.183,48.061,102.5523,50.1225,108.1402,51.0031,107.2596,56.591,112.183,48.061" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="91" x="81" y="91.0669">注册特性和服务</text></g><!--reverse link Provider to Consumer--><g id="link_Provider_Consumer"><path d="M98.1485,143 C124.587,143 153.279,143 180.855,143 " fill="none" id="Provider-backto-Consumer" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="92.1485,143,101.1485,147,97.1485,143,101.1485,139,92.1485,143" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52" x="110.5" y="136.0669">调用服务</text></g><!--SRC=[Kop9ICrDLIZ8ISpCur80WgBKv9B4lFISL8NWnDpq8ZInWAByiioKL7HXv_oyuj9Se31O7AnHmKOt9RyyJnSkfs2byBH_ulE-3S_cz3xjMeX59SnmeCfdcrSyRUjvthdpMSFofvDwaBJ05Tde5cMcPvIWMF1YG_FpAIiWgW40]--></g></svg></p><h4 id="通信方式">通信方式： </h4>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="102px" preserveAspectRatio="none" style="width:305px;height:102px;background:#FFFFFF;" version="1.1" viewBox="0 0 305 102" width="305px" zoomAndPan="magnify"><defs></defs><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="161" x="67.5" y="35.4209">进程内同步通信</text><!--entity Provider--><g id="elem_Provider"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="80" x="12" y="60.1753"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="60" x="22" y="83.1704">Provider</text></g><!--entity Consumer--><g id="elem_Consumer"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="92" x="207" y="60.1753"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="217" y="83.1704">Consumer</text></g><!--reverse link Provider to Consumer--><g id="link_Provider_Consumer"><path d="M98.1923,78.1753 C131.301,78.1753 172.268,78.1753 206.899,78.1753 " fill="none" id="Provider-backto-Consumer" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="92.1923,78.1753,101.1923,82.1753,97.1923,78.1753,101.1923,74.1753,92.1923,78.1753" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78" x="110.5" y="71.2422">直接调用服务</text></g><!--SRC=[Kop9ICrDLIZ8ISpCur80WfBCafnKXHVxPpzVqVsqhVNfX9vdQvU-R9ZrPFz2i7nHQd99ObuwK4r0KNvPPafg4PgmStvUSMakL1YcHi56joWpFQD45owjOANmVFQMPtrBNsneVZvbnRCvlK-x5W80]--></g></svg></p><p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="213px" preserveAspectRatio="none" style="width:555px;height:213px;background:#FFFFFF;" version="1.1" viewBox="0 0 555 213" width="555px" zoomAndPan="magnify"><defs></defs><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="161" x="192.5" y="35.4209">进程内异步通信</text><!--entity Provider--><g id="elem_Provider"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="80" x="12" y="171.6094"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="60" x="22" y="194.6045">Provider</text></g><!--entity Consumer--><g id="elem_Consumer"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="92" x="457" y="171.6094"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="467" y="194.6045">Consumer</text></g><!--entity ???????????--><g id="elem_本地过程调用的消息枢纽"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="174" x="231" y="58.6094"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="154" x="241" y="81.6045">本地过程调用的消息枢纽</text></g><!--entity ???????????--><g id="elem_本地过程调用的广播枢纽"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="174" x="181" y="171.6094"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="154" x="191" y="194.6045">本地过程调用的广播枢纽</text></g><!--reverse link ??????????? to Consumer--><g id="link_本地过程调用的消息枢纽_Consumer"><path d="M351.6459,97.7964 C386.4109,118.6558 439.687,150.6217 474.467,171.4895 " fill="none" id="本地过程调用的消息枢纽-backto-Consumer" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="346.501,94.7094,352.1604,102.7699,350.7884,97.2819,356.2764,95.9099,346.501,94.7094" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78" x="422" y="137.6763">发送请求信息</text></g><!--link ??????????? to Provider--><g id="link_本地过程调用的消息枢纽_Provider"><path d="M277.02,94.7094 C226.743,115.6905 147.5902,148.7203 97.692,169.5424 " fill="none" id="本地过程调用的消息枢纽-to-Provider" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="92.1548,171.8531,102.0011,172.0786,96.7692,169.9275,98.9202,164.6956,92.1548,171.8531" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78" x="201" y="137.6763">接受请求信息</text></g><!--link Provider to ???????????--><g id="link_Provider_本地过程调用的广播枢纽"><path d="M92.1217,189.6094 C117.01,189.6094 143.987,189.6094 174.655,189.6094 " fill="none" id="Provider-to-本地过程调用的广播枢纽" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="180.655,189.6094,171.655,185.6094,175.655,189.6094,171.655,193.6094,180.655,189.6094" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52" x="110.5" y="182.6763">发布事件</text></g><!--link ??????????? to Consumer--><g id="link_本地过程调用的广播枢纽_Consumer"><path d="M355.171,189.6094 C389.656,189.6094 421.881,189.6094 450.821,189.6094 " fill="none" id="本地过程调用的广播枢纽-to-Consumer" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="456.821,189.6094,447.821,185.6094,451.821,189.6094,447.821,193.6094,456.821,189.6094" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="65" x="373.5" y="182.6763">通知订阅者</text></g><!--SRC=[Kop9ICrDLIZ8ISpCur80WfBCafnKXHVxPpzVqVsqhVNfdgPdQvU-R9ZrPFz2i7nHQd99ObuwK4r0KNvPPafg4PgmStvUSMakL1XDxjcSDK_dR7Ynlnre-8iDpS-dh7W-g-NPjevdZUkVpLlqVDTUOjG_tRd_sQIrKFLW3GIDLR3HBSfCpoZHXRjEmKhXQV_4bmsDBzPlVxQn2UWxe6AmOJ1l0VMK5kWIORQLmhE-fK_xfsEOHD3rG2joKjE0heBR2NRLqntDJtPrFzcz3MmAtCKmnOIDjL80HjZp-KjVh5lqSaRhYuPM0000]--></g></svg></p><p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="213px" preserveAspectRatio="none" style="width:594px;height:213px;background:#FFFFFF;" version="1.1" viewBox="0 0 594 213" width="594px" zoomAndPan="magnify"><defs></defs><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="161" x="212" y="35.4209">进程内异步通信</text><!--entity Provider--><g id="elem_Provider"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="80" x="12" y="171.6094"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="60" x="22" y="194.6045">Provider</text></g><!--entity Consumer--><g id="elem_Consumer"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="92" x="496" y="171.6094"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="506" y="194.6045">Consumer</text></g><!--entity ???????????--><g id="elem_进程间通信消息接收枢纽"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="174" x="256" y="58.6094"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="154" x="266" y="81.6045">进程间通信消息接收枢纽</text></g><!--entity ???????????--><g id="elem_进程间通信消息发送枢纽"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="174" x="207" y="171.6094"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="154" x="217" y="194.6045">进程间通信消息发送枢纽</text></g><!--reverse link ??????????? to Consumer--><g id="link_进程间通信消息接收枢纽_Consumer"><path d="M378.8979,97.6323 C416.2929,118.4917 473.896,150.6217 511.308,171.4895 " fill="none" id="进程间通信消息接收枢纽-backto-Consumer" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="373.658,94.7094,379.5693,102.587,378.0246,97.1451,383.4665,95.6004,373.658,94.7094" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78" x="455" y="137.6763">发送请求信息</text></g><!--link ??????????? to Provider--><g id="link_进程间通信消息接收枢纽_Provider"><path d="M298.169,94.7094 C241.89,116.177 151.805,150.5393 97.7997,171.1394 " fill="none" id="进程间通信消息接收枢纽-to-Provider" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="92.1937,173.2778,102.0283,173.8075,96.8654,171.4958,99.1771,166.3329,92.1937,173.2778" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78" x="215" y="137.6763">接受请求信息</text></g><!--link Provider to ???????????--><g id="link_Provider_进程间通信消息发送枢纽"><path d="M92.233,189.6094 C123.414,189.6094 161.765,189.6094 200.948,189.6094 " fill="none" id="Provider-to-进程间通信消息发送枢纽" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="206.948,189.6094,197.948,185.6094,201.948,189.6094,197.948,193.6094,206.948,189.6094" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78" x="110.5" y="182.6763">发送响应信息</text></g><!--link ??????????? to Consumer--><g id="link_进程间通信消息发送枢纽_Consumer"><path d="M381.087,189.6094 C419.747,189.6094 457.675,189.6094 489.854,189.6094 " fill="none" id="进程间通信消息发送枢纽-to-Consumer" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="495.854,189.6094,486.854,185.6094,490.854,189.6094,486.854,193.6094,495.854,189.6094" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78" x="399.5" y="182.6763">接受响应信息</text></g><!--SRC=[Kop9ICrDLIZ8ISpCur80WfBCafnKXHVxPpzVqVsqhVNfdgPdQvU-R9ZrPFz2i7nHQd99ObuwK4r0KNvPPafg4PgmStvUSMakL1XD3cBio-bR80O-szRnh77zixwbpwPiUpPlqVDTUubH_xH_uik6HgXwi0Q2nYhOw1PbfcUKwC9Tfs2b037dnVhjppOsWNGrhWSR1lCMK4zfWIuHPbif0BbF-wTZc4JGzK0hSbBJWAw2smbprTF9lKztJK4o2-vkc1R2XiFSXMmM0000]--></g></svg></p><ul>
<li>Provider：服务的提供者，为系统提供能力（对外接口）。</li>
<li>Consumer：服务的消费者，调用服务提供的功能（对外接口）。</li>
<li>Samgr：作为中介者，管理Provider提供的能力，同时帮助Consumer发现Provider的能力。</li>
</ul>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="443px" preserveAspectRatio="none" style="width:568px;height:443px;background:#FFFFFF;" version="1.1" viewBox="0 0 568 443" width="568px" zoomAndPan="magnify"><defs></defs><g><!--class SamgrLite--><g id="elem_SamgrLite"><rect codeline="3" fill="#FFFFFF" height="247.8594" id="SamgrLite" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="253" x="52" y="189"></rect><ellipse cx="137.75" cy="203" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M141.5313,198.9688 C141.5313,198.5313 141.5156,198.3906 141.4219,198.2344 C141.2813,198 141,197.8438 140.7031,197.8438 C140.3594,197.8438 140.2188,197.9844 140.0469,198.4063 C139.4531,198.0313 138.7031,197.8438 137.8281,197.8438 C135.7188,197.8438 134.1406,199.1406 134.1406,200.8594 C134.1406,201.8281 134.6719,202.7344 135.5313,203.2188 C136.0781,203.5313 136.625,203.7031 137.7344,203.8906 C138.8906,204.0938 139.1563,204.1563 139.5156,204.3438 C139.8906,204.5469 140.125,204.8906 140.125,205.25 C140.125,205.9844 139.1406,206.5313 137.8906,206.5313 C136.7656,206.5313 135.6875,206.0469 135.5156,205.4375 C135.3906,204.9688 135.3906,204.9688 135.2656,204.8594 C135.1094,204.7031 134.8906,204.6094 134.6563,204.6094 C134.375,204.6094 134.125,204.7344 133.9531,204.9531 C133.8438,205.125 133.7969,205.3125 133.7969,205.7344 L133.7969,206.8594 C133.7969,207.625 134.0781,207.9844 134.6719,207.9844 C134.9375,207.9844 135.0625,207.9219 135.3438,207.5781 C136.1875,208.0156 137.0781,208.2344 138,208.2344 C140.3281,208.2344 141.8906,207.0469 141.8906,205.2813 C141.8906,204.3906 141.5781,203.7031 140.8906,203.1563 C140.3594,202.7344 139.7188,202.4844 138.2344,202.2188 C136.9688,201.9844 136.875,201.9531 136.5469,201.7813 C136.1719,201.5938 135.9063,201.2031 135.9063,200.8438 C135.9063,200.1094 136.7656,199.5469 137.8281,199.5469 C138.8906,199.5469 139.7031,200.0156 139.8594,200.6875 C139.9688,201.2344 139.9688,201.2344 140.0938,201.375 C140.2344,201.5 140.4688,201.6094 140.7031,201.6094 C140.9688,201.6094 141.2188,201.4688 141.3906,201.25 C141.5,201.0781 141.5313,200.9375 141.5313,200.4688 L141.5313,198.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="74" x="155.25" y="207.8467">SamgrLite</text><line style="stroke:#000000;stroke-width:1.0;" x1="53" x2="304" y1="217" y2="217"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="124" x="58" y="233.9951">RegisterService()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="138" x="58" y="250.292">UnregisterService()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="126" x="58" y="266.5889">RegisterFeatrue()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="149" x="58" y="282.8857">UnregiseterFeature()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="203" x="58" y="299.1826">RegisterDefaultFeatureApi()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="217" x="58" y="315.4795">UnregisterDefaultFeatureApi()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="150" x="58" y="331.7764">RegisterFeatureApi()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="164" x="58" y="348.0732">UnregisterFeatureApi()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="169" x="58" y="364.3701">GetDefaultFeatureApi()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="58" y="380.667">GetFeatureApi()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="165" x="58" y="396.9639">AddSystemCapability()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="162" x="58" y="413.2607">HasSystemCapability()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="241" x="58" y="429.5576">GetSystemAvailableCapabilities()</text></g><!--class Vector--><g id="elem_Vector"><rect codeline="18" fill="#FFFFFF" height="133.7813" id="Vector" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="221" x="340" y="246"></rect><ellipse cx="422.25" cy="260" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M426.0313,255.9688 C426.0313,255.5313 426.0156,255.3906 425.9219,255.2344 C425.7813,255 425.5,254.8438 425.2031,254.8438 C424.8594,254.8438 424.7188,254.9844 424.5469,255.4063 C423.9531,255.0313 423.2031,254.8438 422.3281,254.8438 C420.2188,254.8438 418.6406,256.1406 418.6406,257.8594 C418.6406,258.8281 419.1719,259.7344 420.0313,260.2188 C420.5781,260.5313 421.125,260.7031 422.2344,260.8906 C423.3906,261.0938 423.6563,261.1563 424.0156,261.3438 C424.3906,261.5469 424.625,261.8906 424.625,262.25 C424.625,262.9844 423.6406,263.5313 422.3906,263.5313 C421.2656,263.5313 420.1875,263.0469 420.0156,262.4375 C419.8906,261.9688 419.8906,261.9688 419.7656,261.8594 C419.6094,261.7031 419.3906,261.6094 419.1563,261.6094 C418.875,261.6094 418.625,261.7344 418.4531,261.9531 C418.3438,262.125 418.2969,262.3125 418.2969,262.7344 L418.2969,263.8594 C418.2969,264.625 418.5781,264.9844 419.1719,264.9844 C419.4375,264.9844 419.5625,264.9219 419.8438,264.5781 C420.6875,265.0156 421.5781,265.2344 422.5,265.2344 C424.8281,265.2344 426.3906,264.0469 426.3906,262.2813 C426.3906,261.3906 426.0781,260.7031 425.3906,260.1563 C424.8594,259.7344 424.2188,259.4844 422.7344,259.2188 C421.4688,258.9844 421.375,258.9531 421.0469,258.7813 C420.6719,258.5938 420.4063,258.2031 420.4063,257.8438 C420.4063,257.1094 421.2656,256.5469 422.3281,256.5469 C423.3906,256.5469 424.2031,257.0156 424.3594,257.6875 C424.4688,258.2344 424.4688,258.2344 424.5938,258.375 C424.7344,258.5 424.9688,258.6094 425.2031,258.6094 C425.4688,258.6094 425.7188,258.4688 425.8906,258.25 C426,258.0781 426.0313,257.9375 426.0313,257.4688 L426.0313,255.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="49" x="439.75" y="264.8467">Vector</text><line style="stroke:#000000;stroke-width:1.0;" x1="341" x2="560" y1="274" y2="274"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81" x="346" y="290.9951">max : int16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="68" x="346" y="307.292">top int16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81" x="346" y="323.5889">free : int16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="89" x="346" y="339.8857">data: void **</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="132" x="346" y="356.1826">key : VECTOR_Key</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="209" x="346" y="372.4795">compare : VECTOR_Compare</text></g><!--class SamgrLiteImpl--><g id="elem_SamgrLiteImpl"><rect codeline="26" fill="#FFFFFF" height="117.4844" id="SamgrLiteImpl" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="178" x="225.5" y="12"></rect><ellipse cx="258.3" cy="26" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M262.0813,21.9688 C262.0813,21.5313 262.0656,21.3906 261.9719,21.2344 C261.8313,21 261.55,20.8438 261.2531,20.8438 C260.9094,20.8438 260.7688,20.9844 260.5969,21.4063 C260.0031,21.0313 259.2531,20.8438 258.3781,20.8438 C256.2688,20.8438 254.6906,22.1406 254.6906,23.8594 C254.6906,24.8281 255.2219,25.7344 256.0813,26.2188 C256.6281,26.5313 257.175,26.7031 258.2844,26.8906 C259.4406,27.0938 259.7063,27.1563 260.0656,27.3438 C260.4406,27.5469 260.675,27.8906 260.675,28.25 C260.675,28.9844 259.6906,29.5313 258.4406,29.5313 C257.3156,29.5313 256.2375,29.0469 256.0656,28.4375 C255.9406,27.9688 255.9406,27.9688 255.8156,27.8594 C255.6594,27.7031 255.4406,27.6094 255.2063,27.6094 C254.925,27.6094 254.675,27.7344 254.5031,27.9531 C254.3938,28.125 254.3469,28.3125 254.3469,28.7344 L254.3469,29.8594 C254.3469,30.625 254.6281,30.9844 255.2219,30.9844 C255.4875,30.9844 255.6125,30.9219 255.8938,30.5781 C256.7375,31.0156 257.6281,31.2344 258.55,31.2344 C260.8781,31.2344 262.4406,30.0469 262.4406,28.2813 C262.4406,27.3906 262.1281,26.7031 261.4406,26.1563 C260.9094,25.7344 260.2688,25.4844 258.7844,25.2188 C257.5188,24.9844 257.425,24.9531 257.0969,24.7813 C256.7219,24.5938 256.4563,24.2031 256.4563,23.8438 C256.4563,23.1094 257.3156,22.5469 258.3781,22.5469 C259.4406,22.5469 260.2531,23.0156 260.4094,23.6875 C260.5188,24.2344 260.5188,24.2344 260.6438,24.375 C260.7844,24.5 261.0188,24.6094 261.2531,24.6094 C261.5188,24.6094 261.7688,24.4688 261.9406,24.25 C262.05,24.0781 262.0813,23.9375 262.0813,23.4688 L262.0813,21.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106" x="274.7" y="30.8467">SamgrLiteImpl</text><line style="stroke:#000000;stroke-width:1.0;" x1="226.5" x2="402.5" y1="40" y2="40"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="231.5" y="56.9951">vtbl : SamgrLite</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="231.5" y="73.292">mutex : MutexId</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="138" x="231.5" y="89.5889">status : BootStatus</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120" x="231.5" y="105.8857">services : Vector</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="166" x="231.5" y="122.1826">sharedPool : TaskPool[]</text></g><path d="M11,20 L11,60.2656 A0,0 0 0 0 11,60.2656 L190,60.2656 A0,0 0 0 0 190,60.2656 L190,44.1328 L229.5,52.1484 L190,36.1328 L190,30 L180,20 L11,20 A0,0 0 0 0 11,20 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M180,20 L180,30 L190,30 L180,20 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="158" x="17" y="37.0669">samgr利用SamgrLite实现</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="143" x="17" y="52.1997">对系统服务和特性的管理</text><path d="M11,70.2656 L11,110.5313 A0,0 0 0 0 11,110.5313 L186,110.5313 A0,0 0 0 0 186,110.5313 L186,94.3984 L229.5,68.4453 L186,86.3984 L186,80.2656 L176,70.2656 L11,70.2656 A0,0 0 0 0 11,70.2656 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M176,70.2656 L176,80.2656 L186,80.2656 L176,70.2656 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="143" x="17" y="87.3325">互斥锁其实现与底层平台</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="154" x="17" y="102.4653">的标准CMSIS、POSIX有关</text><!--link SamgrLiteImpl to SamgrLite--><g id="link_SamgrLiteImpl_SamgrLite"><path codeline="35" d="M281.925,129.106 C271.709,147.171 262.9664,162.6312 251.2014,183.4362 " fill="none" id="SamgrLiteImpl-to-SamgrLite" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="248.248,188.659,256.16,182.7938,250.7092,184.3067,249.1963,178.8559,248.248,188.659" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link SamgrLiteImpl to Vector--><g id="link_SamgrLiteImpl_Vector"><path codeline="36" d="M347.075,129.106 C366.957,164.264 389.4907,204.1112 410.1877,240.7132 " fill="none" id="SamgrLiteImpl-to-Vector" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="413.141,245.936,412.1929,236.1329,410.6799,241.5836,405.2292,240.0706,413.141,245.936" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[XL9TInj157sklsBwPWKVVEb37eGqVWKLnRLIa2AJx8qPtDbPPc-2YnIqLAsbjKMq3qNQ-Y1jNsmb84P_Ziuk_HUTdLdJn6telipUSywzvyp7Gwm31n9ubFa3H7zrvW817c14EF0AoD303if65Ob3-QgSOGWR1dsm0AiiH90Eo2Qhmk0Z2p_rvR-9E_q4K3tmlXuofY5p3MDGemqFCxOOiBnLNqctQR_cF3S9s7UYvl9WqNMTIC_Y9HhG2lCOHdVK50txKNgKfOfDoZnQyQ2ZOH1cgXVTTx04LHJINW2dwwH0c8yZZqsD8kYgQXAWXtOfqW9f2kQIeI63h46a5KlZfSMvXPLfY0nO5JoW4luI9GlaitJUGva7detKn8gdEpkCpTb0I9FEfclPDLY8-WH33JuH0XrJMDm-cPInMxLeNGTmvuL8Xo_IS2tzNNwUHHgmeRhJ30-FtWkHexFnjjaN2CI36X9HwvKM2kcUR8eKLwz_98VVEn9rzZdP_sLezRETjAwJwo_nyJlrvaGTl4tssl7cj-JJg-Ji9FcmOrJWkyRj_xxcs8pgzkeW_dZw-t1BRLzOmzlBVNLrfCvVgdPBlRV-sYV-kgjsTqgpJjcvsToQdtFAp-BZFRNTwh7-0m00]--></g></svg></p><h3 id="samgrlite">SamgrLite </h3>
<blockquote>
<p>foundation/distributedschedule/samgr_lite/interfaces/kits/samgr/samgr_lite.h</p>
</blockquote>
<p>samgr利用SamgrLite实现对系统服务和特性的管理</p>
<h3 id="mutexid">MutexId </h3>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token comment">//foundation/distributedschedule/samgr_lite/interfaces/kits/samgr/common.h</span>
<span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-void">void</span> <span class="token operator">*</span>MutexId<span class="token punctuation">;</span>
</code></pre><p>互斥锁，用于保护对共享资源的访问<br>
其实现与平台所用接口（CMSIS, POSIX）相关：</p>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="220px" preserveAspectRatio="none" style="width:790px;height:220px;background:#FFFFFF;" version="1.1" viewBox="0 0 790 220" width="790px" zoomAndPan="magnify"><defs></defs><g><!--cluster adpter--><g id="cluster_adpter"><path d="M13.5,11 L68.5,11 A3.75,3.75 0 0 1 71,13.5 L78,33.2969 L780.5,33.2969 A2.5,2.5 0 0 1 783,35.7969 L783,210.5 A2.5,2.5 0 0 1 780.5,213 L13.5,213 A2.5,2.5 0 0 1 11,210.5 L11,13.5 A2.5,2.5 0 0 1 13.5,11 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><line style="stroke:#000000;stroke-width:1.0;" x1="11" x2="78" y1="33.2969" y2="33.2969"></line><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="54" x="15" y="25.9951">adpter</text></g><!--entity memory_adapter--><g id="elem_memory_adapter"><path d="M140,163.5 L140,194.7969 A2.5,2.5 0 0 0 142.5,197.2969 L281.5,197.2969 A2.5,2.5 0 0 0 284,194.7969 L284,171 L274,161 L142.5,161 A2.5,2.5 0 0 0 140,163.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M274,161 L274,168.5 A2.5,2.5 0 0 0 276.5,171 L284,171 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="124" x="150" y="183.9951">memory_adapter</text></g><!--entity queue_adapter--><g id="elem_queue_adapter"><path d="M319.5,163.5 L319.5,194.7969 A2.5,2.5 0 0 0 322,197.2969 L444,197.2969 A2.5,2.5 0 0 0 446.5,194.7969 L446.5,171 L436.5,161 L322,161 A2.5,2.5 0 0 0 319.5,163.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M436.5,161 L436.5,168.5 A2.5,2.5 0 0 0 439,171 L446.5,171 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="107" x="329.5" y="183.9951">queue_adapter</text></g><!--entity thread_adapter--><g id="elem_thread_adapter"><path d="M482,163.5 L482,194.7969 A2.5,2.5 0 0 0 484.5,197.2969 L611.5,197.2969 A2.5,2.5 0 0 0 614,194.7969 L614,171 L604,161 L484.5,161 A2.5,2.5 0 0 0 482,163.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M604,161 L604,168.5 A2.5,2.5 0 0 0 606.5,171 L614,171 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="112" x="492" y="183.9951">thread_adapter</text></g><!--entity time_adapter--><g id="elem_time_adapter"><path d="M649,163.5 L649,194.7969 A2.5,2.5 0 0 0 651.5,197.2969 L764.5,197.2969 A2.5,2.5 0 0 0 767,194.7969 L767,171 L757,161 L651.5,161 A2.5,2.5 0 0 0 649,163.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M757,161 L757,168.5 A2.5,2.5 0 0 0 759.5,171 L767,171 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="98" x="659" y="183.9951">time_adapter</text></g><!--entity build.gn--><g id="elem_build.gn"><path d="M27,163.5 L27,194.7969 A2.5,2.5 0 0 0 29.5,197.2969 L102.5,197.2969 A2.5,2.5 0 0 0 105,194.7969 L105,171 L95,161 L29.5,161 A2.5,2.5 0 0 0 27,163.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M95,161 L95,168.5 A2.5,2.5 0 0 0 97.5,171 L105,171 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58" x="37" y="183.9951">build.gn</text></g><!--entity posix--><g id="elem_posix"><path d="M500,54 L556,54 A3.75,3.75 0 0 1 558.5,56.5 L565.5,76.2969 L580,76.2969 A2.5,2.5 0 0 1 582.5,78.7969 L582.5,90.7969 A2.5,2.5 0 0 1 580,93.2969 L500,93.2969 A2.5,2.5 0 0 1 497.5,90.7969 L497.5,56.5 A2.5,2.5 0 0 1 500,54 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><line style="stroke:#000000;stroke-width:1.0;" x1="497.5" x2="565.5" y1="76.2969" y2="76.2969"></line><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="43" x="507.5" y="69.9951">posix</text></g><!--entity cmsis--><g id="elem_cmsis"><path d="M369,54 L429,54 A3.75,3.75 0 0 1 431.5,56.5 L438.5,76.2969 L453,76.2969 A2.5,2.5 0 0 1 455.5,78.7969 L455.5,90.7969 A2.5,2.5 0 0 1 453,93.2969 L369,93.2969 A2.5,2.5 0 0 1 366.5,90.7969 L366.5,56.5 A2.5,2.5 0 0 1 369,54 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="438.5" y1="76.2969" y2="76.2969"></line><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="47" x="376.5" y="69.9951">cmsis</text></g><g id="elem_GMN18"><path d="M27,46 L27,101.3984 A0,0 0 0 0 27,101.3984 L140.702,101.3984 L83.5651,160.8492 L148.702,101.3984 L317,101.3984 A0,0 0 0 0 317,101.3984 L317,56 L307,46 L27,46 A0,0 0 0 0 27,46 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M307,46 L307,56 L317,56 L307,46 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="230" x="33" y="63.0669">根据ohos_kernel_type决定构建的依赖</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="234" x="33" y="78.1997">liteos_m内核则链接cmsis包下的源文件</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="269" x="33" y="93.3325">liteos_a或linux内核则链接posix包下的源文件</text></g><!--link posix to memory_adapter--><g id="link_posix_memory_adapter"><path d="M497.323,92.041 C489.289,95.154 480.924,98.27 473,101 C406.334,123.966 346.0408,141.5421 292.8778,156.1962 " fill="none" id="posix-to-memory_adapter" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="275.525,160.9794,294.4722,161.9805,291.2834,150.4119,275.525,160.9794" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link posix to queue_adapter--><g id="link_posix_queue_adapter"><path d="M511.932,93.004 C482.737,112.25 452.4322,132.2276 424.0292,150.952 " fill="none" id="posix-to-queue_adapter" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="409.001,160.8592,427.3316,155.9614,420.7268,145.9426,409.001,160.8592" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link posix to thread_adapter--><g id="link_posix_thread_adapter"><path d="M541.43,93.004 C542.913,112.192 543.8269,124.0078 545.2749,142.7427 " fill="none" id="posix-to-thread_adapter" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="546.662,160.6892,551.2571,142.2804,539.2928,143.2051,546.662,160.6892" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link posix to time_adapter--><g id="link_posix_time_adapter"><path d="M570.035,93.004 C601.275,112.25 634.4589,132.6934 664.8519,151.4178 " fill="none" id="posix-to-time_adapter" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="680.177,160.8592,667.999,146.3094,661.7047,156.5261,680.177,160.8592" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link cmsis to memory_adapter--><g id="link_cmsis_memory_adapter"><path d="M375.423,93.004 C338.418,112.25 296.9272,133.8291 260.9262,152.5535 " fill="none" id="cmsis-to-memory_adapter" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="244.957,160.8592,263.6948,157.8766,258.1576,147.2304,244.957,160.8592" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link cmsis to queue_adapter--><g id="link_cmsis_queue_adapter"><path d="M405.994,93.004 C400.803,112.192 397.4513,124.5788 392.3833,143.3137 " fill="none" id="cmsis-to-queue_adapter" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="387.683,160.6892,398.1751,144.8805,386.5914,141.747,387.683,160.6892" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link cmsis to thread_adapter--><g id="link_cmsis_thread_adapter"><path d="M435.493,93.004 C460.891,112.192 485.9248,131.1041 510.7238,149.839 " fill="none" id="cmsis-to-thread_adapter" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="525.086,160.6892,514.3405,145.0516,507.1071,154.6264,525.086,160.6892" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link cmsis to time_adapter--><g id="link_cmsis_time_adapter"><path d="M455.811,92.016 C463.844,95.068 472.154,98.17 480,101 C539.738,122.548 591.8141,140.0388 638.1621,155.2554 " fill="none" id="cmsis-to-time_adapter" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="655.264,160.8702,640.0337,149.5548,636.2905,160.9561,655.264,160.8702" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[VP3BIiD058RtVOhn0UeZ-2fXR4wReNCpcK2BkkiDl2080GjADswx4QMsqAV9ZFKjJ0RCf6scP_bVu3l_cOg00P8K4zv2nKdSwUCU81nA1V6rrShh4Wg80HFnCC0XBirzxog559ej5SM0Guz7cATrcH8QdlTufVwZIP6GmP7QOGb9MaukGwZTlhdmGBj0CxdpFVYrGFs7ohT0fmXSe9d0-Hw2Mg2HW0jL32ma4jtZDStYspmiHIIIe0yn1ngeeGGz-T3BkNaRwStwPpxAjw-xpwpgKAAWo3Cz6Pl5IizUVf-tvl7TSkZxSRwwApfc_MIoQRxvEgnXCyieuUdWe6w7F5477jfNh73x1m00]--></g></svg></p><h3 id="bootstatus">BootStatus </h3>
<blockquote>
<p>foundation/distributedschedule/samgr_lite/samgr/source/samgr_lite_inner.h</p>
</blockquote>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="544px" preserveAspectRatio="none" style="width:395px;height:544px;background:#FFFFFF;" version="1.1" viewBox="0 0 395 544" width="395px" zoomAndPan="magnify"><defs></defs><g><ellipse cx="200" cy="21" fill="#FFFFFF" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;"></ellipse><g id="BOOT_SYS"><rect fill="#FFFFFF" height="64.2344" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="240" x="80" y="108"></rect><line style="stroke:#000000;stroke-width:1.0;" x1="80" x2="320" y1="134.2969" y2="134.2969"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="75" x="162.5" y="125.9951">BOOT_SYS</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="140" x="85" y="150.4355">启动SYS_SERVICE_INIT和</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="216" x="89" y="164.4043">SYS_FEATURE_INIT宏修饰的服务与特性</text></g><g id="BOOT_APP"><rect fill="#FFFFFF" height="64.2344" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="376" x="12" y="264"></rect><line style="stroke:#000000;stroke-width:1.0;" x1="12" x2="388" y1="290.2969" y2="290.2969"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="76" x="162" y="281.9951">BOOT_APP</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="280" x="17" y="306.4355">启动所有SYSSEX_SERVICE_INIT,APP_SERVICE_INIT</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="352" x="21" y="320.4043">SYSSEX_FEATURE_INIT, APP_FEATURE_INIT宏修饰的服务与特性</text></g><g id="BOOT_DYNAMIC"><rect fill="#FFFFFF" height="50" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="134" x="133" y="405"></rect><line style="stroke:#000000;stroke-width:1.0;" x1="133" x2="267" y1="431.2969" y2="431.2969"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="114" x="143" y="422.9951">BOOT_DYNAMIC</text></g><ellipse cx="200" cy="527" fill="none" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"></ellipse><ellipse cx="200" cy="527" fill="#FFFFFF" rx="6" ry="6" style="stroke:#000000;stroke-width:1.0;"></ellipse><!--link *start* to BOOT_SYS--><g id="link_*start*_BOOT_SYS"><path d="M200,31.181 C200,47.504 200,76.268 200,101.929 " fill="none" id="*start*-to-BOOT_SYS" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="200,107.929,204,98.929,200,102.929,196,98.929,200,107.929" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="129" x="201" y="74.0669">SYS_INIT()初始化赋予</text></g><!--link BOOT_SYS to BOOT_APP--><g id="link_BOOT_SYS_BOOT_APP"><path d="M200,172.164 C200,198.883 200,231.177 200,257.882 " fill="none" id="BOOT_SYS-to-BOOT_APP" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="200,263.882,204,254.882,200,258.882,196,254.882,200,263.882" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114" x="201" y="215.0669">Bootstrap服务调用</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="104" x="210" y="230.1997">INIT_APP_CALL()</text></g><!--link BOOT_APP to BOOT_DYNAMIC--><g id="link_BOOT_APP_BOOT_DYNAMIC"><path d="M200,328.282 C200,351.764 200,377.441 200,398.957 " fill="none" id="BOOT_APP-to-BOOT_DYNAMIC" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="200,404.957,204,395.957,200,399.957,196,395.957,200,404.957" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="156" x="201" y="371.0669">系统所有应用程序启动完毕</text></g><!--link BOOT_DYNAMIC to *end*--><g id="link_BOOT_DYNAMIC_*end*"><path d="M200,455.4649 C200,475.0364 200,495.4921 200,509.7967 " fill="none" id="BOOT_DYNAMIC-to-*end*" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="200,515.7967,204,506.7967,200,510.7967,196,506.7967,200,515.7967" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[Kop9ICrDLIZ8ISpCur80WcYjM0LTNJi59t__aFZWo605AmKW6U_fvncYeVcqO-xJvTrFUwQzsDhzP5S7M0DSeMvAVdaUJATZG01GfrD-VabnIL5YmRCvlK-x5hxOqFnyoWg5c3m5a74WDV7EZZu-6fe8Wq3wK0noYVHpzFLq1XhsVFFkvxldF-jiU3Qdy-ckAK2Jdg_eVhgh_-c4zK-xLZnTr_Di_LI4GJ1z8By0_SI5wbOh1OWkaDU2NOF2F9rTmLvyEga7v3oGi9khOqXe45HuNV-J_UjUBjtmV5OBn2jFTlGzxzpvh64vgjDXva9S2JGcs3K2nG8TaAUH1Q3MWTGXswYZ0598f1i0]--></g></svg></p><h3 id="vector">Vector </h3>
<blockquote>
<p>foundation/distributedschedule/samgr_lite/interfaces/kits/samgr/common.h</p>
</blockquote>
<p>支持动态扩容的数组，扩容策略为重新申请一块增大4个单元的内存空间</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-void">void</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>VECTOR_biKey<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-void">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-int">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>VECTOR_Compare<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-void">void</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-void">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-struct">struct</span> <span class="token class-name">SimpleVector</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    VECTOR_Key key<span class="token punctuation">;</span> <span class="token comment">//将元素转化为key，用以比较</span>
    VECTOR_Compare compare<span class="token punctuation">;</span> <span class="token comment">//比较两个key的大小</span>
    <span class="token comment">//在samgr_lite.c中，key为GetServiceName(), compare为strcmp()</span>
<span class="token punctuation">}</span> Vector<span class="token punctuation">;</span>
</code></pre><h3 id="sharedpool">SharedPool[] </h3>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="187px" preserveAspectRatio="none" style="width:685px;height:187px;background:#FFFFFF;" version="1.1" viewBox="0 0 685 187" width="685px" zoomAndPan="magnify"><defs></defs><g><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="353" x="170.25" y="6"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="333" x="180.25" y="27.1387">SAMGR_Bootstrap()为每一个服务创建消息队列和任务池参数</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="299" x="197.25" y="59.9688"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="279" x="207.25" y="81.1074">samgr调用服务的GetTaskConfig()获取其任务配置</text><polygon fill="#FFFFFF" points="228.75,113.9375,464.75,113.9375,476.75,125.9375,464.75,137.9375,228.75,137.9375,216.75,125.9375,228.75,113.9375" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="236" x="228.75" y="129.7456">TaskConfig-&gt;taskFlags == SHARED_TASK</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="21" x="195.75" y="123.3433">yes</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="14" x="476.75" y="123.3433">no</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="335" x="6" y="147.9375"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="315" x="16" y="169.0762">service的任务池指向samgr的共用任务池,以节约系统资源</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="318" x="361" y="147.9375"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="298" x="371" y="169.0762">服务拥有独立消息队列和任务池，记录在serviceImpl中</text><line style="stroke:#000000;stroke-width:1.0;" x1="346.75" x2="346.75" y1="39.9688" y2="59.9688"></line><polygon fill="#000000" points="342.75,49.9688,346.75,59.9688,350.75,49.9688,346.75,53.9688" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="216.75" x2="173.5" y1="125.9375" y2="125.9375"></line><line style="stroke:#000000;stroke-width:1.0;" x1="173.5" x2="173.5" y1="125.9375" y2="147.9375"></line><polygon fill="#000000" points="169.5,137.9375,173.5,147.9375,177.5,137.9375,173.5,141.9375" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="476.75" x2="520" y1="125.9375" y2="125.9375"></line><line style="stroke:#000000;stroke-width:1.0;" x1="520" x2="520" y1="125.9375" y2="147.9375"></line><polygon fill="#000000" points="516,137.9375,520,147.9375,524,137.9375,520,141.9375" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="346.75" x2="346.75" y1="93.9375" y2="113.9375"></line><polygon fill="#000000" points="342.75,103.9375,346.75,113.9375,350.75,103.9375,346.75,107.9375" style="stroke:#000000;stroke-width:1.0;"></polygon><!--SRC=[Kop9ICrDLIZ8ISpCur800gjWHr_te7Yd_FoIufAYn08DpISxTZrRt_zaHyEJ7QkUpUbzshNmQSVifxjtFTlMyQnn_SiPyvzsJ7ywgUV9xjr0gMSR5ppjRtesTOCrnBJYnDpqeXSRcfzFMG7H-tnMYtjgIKXYSRPpVbvQPhg6vek-xK_xfprjtGOnuMLhx_Ezwo3QCzCKD11ATUrAW6otdCJqOWLRMuLW3ySWLvVu4CTWRqq5e3Vo53GgKuireVQc5fLb9gS2ROExwrbF-zC94y4E0We_RTq8T1DSKkV9xgKlkfgUxrhsVFFkvxldlzZQycpN18WhKb9B4fCpmCpKdE9K1OsyVAWj42yzwrxwR4xdy-urprTtumgKztjwNgpRy7JlrATpLa3TvfbRaFDanrfaEm00]--></g></svg></p><p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="297px" preserveAspectRatio="none" style="width:708px;height:297px;background:#FFFFFF;" version="1.1" viewBox="0 0 708 297" width="708px" zoomAndPan="magnify"><defs></defs><g><!--class TaskConfig--><g id="elem_TaskConfig"><rect codeline="3" fill="#FFFFFF" height="117.4844" id="TaskConfig" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="144" x="287" y="12"></rect><ellipse cx="316.2" cy="26" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M319.9813,21.9688 C319.9813,21.5313 319.9656,21.3906 319.8719,21.2344 C319.7313,21 319.45,20.8438 319.1531,20.8438 C318.8094,20.8438 318.6688,20.9844 318.4969,21.4063 C317.9031,21.0313 317.1531,20.8438 316.2781,20.8438 C314.1688,20.8438 312.5906,22.1406 312.5906,23.8594 C312.5906,24.8281 313.1219,25.7344 313.9813,26.2188 C314.5281,26.5313 315.075,26.7031 316.1844,26.8906 C317.3406,27.0938 317.6063,27.1563 317.9656,27.3438 C318.3406,27.5469 318.575,27.8906 318.575,28.25 C318.575,28.9844 317.5906,29.5313 316.3406,29.5313 C315.2156,29.5313 314.1375,29.0469 313.9656,28.4375 C313.8406,27.9688 313.8406,27.9688 313.7156,27.8594 C313.5594,27.7031 313.3406,27.6094 313.1063,27.6094 C312.825,27.6094 312.575,27.7344 312.4031,27.9531 C312.2938,28.125 312.2469,28.3125 312.2469,28.7344 L312.2469,29.8594 C312.2469,30.625 312.5281,30.9844 313.1219,30.9844 C313.3875,30.9844 313.5125,30.9219 313.7938,30.5781 C314.6375,31.0156 315.5281,31.2344 316.45,31.2344 C318.7781,31.2344 320.3406,30.0469 320.3406,28.2813 C320.3406,27.3906 320.0281,26.7031 319.3406,26.1563 C318.8094,25.7344 318.1688,25.4844 316.6844,25.2188 C315.4188,24.9844 315.325,24.9531 314.9969,24.7813 C314.6219,24.5938 314.3563,24.2031 314.3563,23.8438 C314.3563,23.1094 315.2156,22.5469 316.2781,22.5469 C317.3406,22.5469 318.1531,23.0156 318.3094,23.6875 C318.4188,24.2344 318.4188,24.2344 318.5438,24.375 C318.6844,24.5 318.9188,24.6094 319.1531,24.6094 C319.4188,24.6094 319.6688,24.4688 319.8406,24.25 C319.95,24.0781 319.9813,23.9375 319.9813,23.4688 L319.9813,21.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80" x="331.8" y="30.8467">TaskConfig</text><line style="stroke:#000000;stroke-width:1.0;" x1="288" x2="430" y1="40" y2="40"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="85" x="293" y="56.9951">level : int16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="105" x="293" y="73.292">priority : int16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="128" x="293" y="89.5889">stackSize : uint16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="132" x="293" y="105.8857">queueSize : uint16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="293" y="122.1826">taskFlags : uint8</text></g><!--class TaskType--><g id="elem_TaskType"><rect codeline="10" fill="#FFFFFF" height="101.1875" id="TaskType" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="130" x="294" y="189"></rect><ellipse cx="321.85" cy="203" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M320.6469,203.875 L322.1,203.875 L322.1,203.9844 C322.1,204.3906 322.1313,204.5469 322.2094,204.7031 C322.3656,204.9531 322.6469,205.1094 322.9438,205.1094 C323.1938,205.1094 323.4594,204.9688 323.6156,204.75 C323.7406,204.5938 323.7719,204.4375 323.7719,203.9844 L323.7719,202.0625 C323.7719,201.9063 323.7719,201.8594 323.7563,201.7031 C323.6938,201.2344 323.3813,200.9219 322.9281,200.9219 C322.6781,200.9219 322.4125,201.0625 322.2406,201.2813 C322.1313,201.4531 322.1,201.6094 322.1,202.0625 L322.1,202.1875 L320.6469,202.1875 L320.6469,199.7813 L324.6313,199.7813 L324.6313,200.6406 C324.6313,201.0469 324.6625,201.2188 324.7406,201.375 C324.9125,201.625 325.1938,201.7813 325.475,201.7813 C325.7406,201.7813 326.0063,201.6406 326.1781,201.4219 C326.2875,201.25 326.3188,201.1094 326.3188,200.6406 L326.3188,198.0938 L318.6938,198.0938 C318.2563,198.0938 318.1313,198.1094 317.975,198.2031 C317.725,198.3594 317.5688,198.6563 317.5688,198.9375 C317.5688,199.2188 317.7094,199.4688 317.9281,199.6406 C318.0844,199.75 318.2719,199.7813 318.6938,199.7813 L318.9438,199.7813 L318.9438,206.2969 L318.6938,206.2969 C318.2875,206.2969 318.1313,206.3125 317.975,206.4219 C317.725,206.5938 317.5688,206.8594 317.5688,207.1563 C317.5688,207.4219 317.7094,207.6719 317.9281,207.8281 C318.0688,207.9531 318.3031,208 318.6938,208 L326.6938,208 L326.6938,205.4219 C326.6938,204.9844 326.6625,204.8438 326.5844,204.6875 C326.4125,204.4375 326.1313,204.2813 325.85,204.2813 C325.5844,204.2813 325.3188,204.3906 325.1469,204.6406 C325.0375,204.7969 325.0063,204.9375 325.0063,205.4219 L325.0063,206.2969 L320.6469,206.2969 L320.6469,203.875 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="69" x="337.15" y="207.8467">TaskType</text><line style="stroke:#000000;stroke-width:1.0;" x1="295" x2="423" y1="217" y2="217"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="104" x="300" y="233.9951">SHARED_TASK</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="96" x="300" y="250.292">SINGLE_TASK</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="118" x="300" y="266.5889">SPECIFIED_TASK</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66" x="300" y="282.8857">NO_TASK</text></g><path d="M11,214.5 L11,254.7656 A0,0 0 0 0 11,254.7656 L259,254.7656 A0,0 0 0 0 259,254.7656 L259,238.6328 L298,229.1484 L259,230.6328 L259,224.5 L249,214.5 L11,214.5 A0,0 0 0 0 11,214.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M249,214.5 L249,224.5 L259,224.5 L249,214.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="227" x="17" y="231.5669">基于它们的priority被多个服务共享的，</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="110" x="17" y="246.6997">例如BootStap服务</text><path d="M459,199 L459,230.2656 L418,261.7422 L459,238.2656 L459,269.5313 A0,0 0 0 0 459,269.5313 L701,269.5313 A0,0 0 0 0 701,269.5313 L701,209 L691,199 L459,199 A0,0 0 0 0 459,199 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M691,199 L691,209 L701,209 L691,199 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="221" x="465" y="216.0669">这是一个由多个服务共享的特定任务。</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="218" x="465" y="231.1997">与 SHARED_TASK 不同，这不是基于</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="208" x="465" y="246.3325">优先级进行共享，而是允许多个指定</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="130" x="465" y="261.4653">的服务共享同一个任务</text><!--link TaskConfig to TaskType--><g id="link_TaskConfig_TaskType"><path codeline="17" d="M359,129.44 C359,148.846 359,164.291 359,182.993 " fill="none" id="TaskConfig-to-TaskType" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="359,188.993,363,179.993,359,183.993,355,179.993,359,188.993" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[RL3BJi905Dtx5UC7i71Z30iJH52YGMFPcme3DFHbEpL1Gu8eyLM82nU89WPZD163OLSBaO-nGxlp5nncAbImY-dSSy-zvvoPHtaeGQ2Al23F0VBbXGm4K59H4KXGseEQJc4TQKOQWHIl5wAAd1Lou8ZY8Zo08WW3GKOBYnHHDK7H138U17N4fmkSS0W9QapWVGCQS1P6H2KkyZdTXvSeMg8db0s9saWLLUYRuDOZEx7LtLI4ss1r8hcs6GlKsx5e8fu8Kf9RatjfZlu2sKAXvR46QyeAWYHi5W4bEsw5mzFA-C5sx3hkd3YzDxTv-liMtcCRFpKTwtLuNyENBLpjEdQRzB_x9XrpFg_mSsL5KH27U9MH_BGPAZtne0cv_BI9sNZUu7ROU7UiCj5qRxh_YhiN7xZJT7ez0dwLAyo8LG- -9gbh-DeaDib2SYSxMK96xZTmzTorNxp1dTSosU8HjsoEYDLZhsFvokOPaQ93H3ZeWsndBfcFFw5_0000]--></g></svg></p><h3 id="service">Service </h3>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="408px" preserveAspectRatio="none" style="width:960px;height:408px;background:#FFFFFF;" version="1.1" viewBox="0 0 960 408" width="960px" zoomAndPan="magnify"><defs></defs><g><!--class Vector--><g id="elem_Vector"><rect codeline="3" fill="#FFFFFF" height="133.7813" id="Vector" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="221" x="12" y="233.5"></rect><ellipse cx="94.25" cy="247.5" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M98.0313,243.4688 C98.0313,243.0313 98.0156,242.8906 97.9219,242.7344 C97.7813,242.5 97.5,242.3438 97.2031,242.3438 C96.8594,242.3438 96.7188,242.4844 96.5469,242.9063 C95.9531,242.5313 95.2031,242.3438 94.3281,242.3438 C92.2188,242.3438 90.6406,243.6406 90.6406,245.3594 C90.6406,246.3281 91.1719,247.2344 92.0313,247.7188 C92.5781,248.0313 93.125,248.2031 94.2344,248.3906 C95.3906,248.5938 95.6563,248.6563 96.0156,248.8438 C96.3906,249.0469 96.625,249.3906 96.625,249.75 C96.625,250.4844 95.6406,251.0313 94.3906,251.0313 C93.2656,251.0313 92.1875,250.5469 92.0156,249.9375 C91.8906,249.4688 91.8906,249.4688 91.7656,249.3594 C91.6094,249.2031 91.3906,249.1094 91.1563,249.1094 C90.875,249.1094 90.625,249.2344 90.4531,249.4531 C90.3438,249.625 90.2969,249.8125 90.2969,250.2344 L90.2969,251.3594 C90.2969,252.125 90.5781,252.4844 91.1719,252.4844 C91.4375,252.4844 91.5625,252.4219 91.8438,252.0781 C92.6875,252.5156 93.5781,252.7344 94.5,252.7344 C96.8281,252.7344 98.3906,251.5469 98.3906,249.7813 C98.3906,248.8906 98.0781,248.2031 97.3906,247.6563 C96.8594,247.2344 96.2188,246.9844 94.7344,246.7188 C93.4688,246.4844 93.375,246.4531 93.0469,246.2813 C92.6719,246.0938 92.4063,245.7031 92.4063,245.3438 C92.4063,244.6094 93.2656,244.0469 94.3281,244.0469 C95.3906,244.0469 96.2031,244.5156 96.3594,245.1875 C96.4688,245.7344 96.4688,245.7344 96.5938,245.875 C96.7344,246 96.9688,246.1094 97.2031,246.1094 C97.4688,246.1094 97.7188,245.9688 97.8906,245.75 C98,245.5781 98.0313,245.4375 98.0313,244.9688 L98.0313,243.4688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="49" x="111.75" y="252.3467">Vector</text><line style="stroke:#000000;stroke-width:1.0;" x1="13" x2="232" y1="261.5" y2="261.5"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81" x="18" y="278.4951">max : int16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="68" x="18" y="294.792">top int16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81" x="18" y="311.0889">free : int16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="89" x="18" y="327.3857">data: void **</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="132" x="18" y="343.6826">key : VECTOR_Key</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="209" x="18" y="359.9795">compare : VECTOR_Compare</text></g><!--class SamgrLiteImpl--><g id="elem_SamgrLiteImpl"><rect codeline="11" fill="#FFFFFF" height="117.4844" id="SamgrLiteImpl" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="178" x="33.5" y="12"></rect><ellipse cx="66.3" cy="26" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M70.0813,21.9688 C70.0813,21.5313 70.0656,21.3906 69.9719,21.2344 C69.8313,21 69.55,20.8438 69.2531,20.8438 C68.9094,20.8438 68.7688,20.9844 68.5969,21.4063 C68.0031,21.0313 67.2531,20.8438 66.3781,20.8438 C64.2688,20.8438 62.6906,22.1406 62.6906,23.8594 C62.6906,24.8281 63.2219,25.7344 64.0813,26.2188 C64.6281,26.5313 65.175,26.7031 66.2844,26.8906 C67.4406,27.0938 67.7063,27.1563 68.0656,27.3438 C68.4406,27.5469 68.675,27.8906 68.675,28.25 C68.675,28.9844 67.6906,29.5313 66.4406,29.5313 C65.3156,29.5313 64.2375,29.0469 64.0656,28.4375 C63.9406,27.9688 63.9406,27.9688 63.8156,27.8594 C63.6594,27.7031 63.4406,27.6094 63.2063,27.6094 C62.925,27.6094 62.675,27.7344 62.5031,27.9531 C62.3938,28.125 62.3469,28.3125 62.3469,28.7344 L62.3469,29.8594 C62.3469,30.625 62.6281,30.9844 63.2219,30.9844 C63.4875,30.9844 63.6125,30.9219 63.8938,30.5781 C64.7375,31.0156 65.6281,31.2344 66.55,31.2344 C68.8781,31.2344 70.4406,30.0469 70.4406,28.2813 C70.4406,27.3906 70.1281,26.7031 69.4406,26.1563 C68.9094,25.7344 68.2688,25.4844 66.7844,25.2188 C65.5188,24.9844 65.425,24.9531 65.0969,24.7813 C64.7219,24.5938 64.4563,24.2031 64.4563,23.8438 C64.4563,23.1094 65.3156,22.5469 66.3781,22.5469 C67.4406,22.5469 68.2531,23.0156 68.4094,23.6875 C68.5188,24.2344 68.5188,24.2344 68.6438,24.375 C68.7844,24.5 69.0188,24.6094 69.2531,24.6094 C69.5188,24.6094 69.7688,24.4688 69.9406,24.25 C70.05,24.0781 70.0813,23.9375 70.0813,23.4688 L70.0813,21.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106" x="82.7" y="30.8467">SamgrLiteImpl</text><line style="stroke:#000000;stroke-width:1.0;" x1="34.5" x2="210.5" y1="40" y2="40"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="39.5" y="56.9951">vtbl : SamgrLite</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="39.5" y="73.292">mutex : MutexId</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="138" x="39.5" y="89.5889">status : BootStatus</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120" x="39.5" y="105.8857">services : Vector</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="166" x="39.5" y="122.1826">sharedPool : TaskPool[]</text></g><!--class ServiceImpl--><g id="elem_ServiceImpl"><rect codeline="18" fill="#FFFFFF" height="150.0781" id="ServiceImpl" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="165" x="316" y="225.5"></rect><ellipse cx="352.4" cy="239.5" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M356.1813,235.4688 C356.1813,235.0313 356.1656,234.8906 356.0719,234.7344 C355.9313,234.5 355.65,234.3438 355.3531,234.3438 C355.0094,234.3438 354.8688,234.4844 354.6969,234.9063 C354.1031,234.5313 353.3531,234.3438 352.4781,234.3438 C350.3688,234.3438 348.7906,235.6406 348.7906,237.3594 C348.7906,238.3281 349.3219,239.2344 350.1813,239.7188 C350.7281,240.0313 351.275,240.2031 352.3844,240.3906 C353.5406,240.5938 353.8063,240.6563 354.1656,240.8438 C354.5406,241.0469 354.775,241.3906 354.775,241.75 C354.775,242.4844 353.7906,243.0313 352.5406,243.0313 C351.4156,243.0313 350.3375,242.5469 350.1656,241.9375 C350.0406,241.4688 350.0406,241.4688 349.9156,241.3594 C349.7594,241.2031 349.5406,241.1094 349.3063,241.1094 C349.025,241.1094 348.775,241.2344 348.6031,241.4531 C348.4938,241.625 348.4469,241.8125 348.4469,242.2344 L348.4469,243.3594 C348.4469,244.125 348.7281,244.4844 349.3219,244.4844 C349.5875,244.4844 349.7125,244.4219 349.9938,244.0781 C350.8375,244.5156 351.7281,244.7344 352.65,244.7344 C354.9781,244.7344 356.5406,243.5469 356.5406,241.7813 C356.5406,240.8906 356.2281,240.2031 355.5406,239.6563 C355.0094,239.2344 354.3688,238.9844 352.8844,238.7188 C351.6188,238.4844 351.525,238.4531 351.1969,238.2813 C350.8219,238.0938 350.5563,237.7031 350.5563,237.3438 C350.5563,236.6094 351.4156,236.0469 352.4781,236.0469 C353.5406,236.0469 354.3531,236.5156 354.5094,237.1875 C354.6188,237.7344 354.6188,237.7344 354.7438,237.875 C354.8844,238 355.1188,238.1094 355.3531,238.1094 C355.6188,238.1094 355.8688,237.9688 356.0406,237.75 C356.15,237.5781 356.1813,237.4375 356.1813,236.9688 L356.1813,235.4688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="85" x="369.6" y="244.3467">ServiceImpl</text><line style="stroke:#000000;stroke-width:1.0;" x1="317" x2="480" y1="253.5" y2="253.5"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="113" x="322" y="270.4951">service: Service</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="153" x="322" y="286.792">defaultApi: IUnknown</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="135" x="322" y="303.0889">taskPool: TaskPool</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="118" x="322" y="319.3857">features: Vector</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="111" x="322" y="335.6826">serviceId: int16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="87" x="322" y="351.9795">inited: uint8</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="115" x="322" y="368.2764">ops: Operations</text></g><!--class Service--><g id="elem_Service"><rect codeline="27" fill="#FFFFFF" height="101.1875" id="Service" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="297" x="250" y="20"></rect><ellipse cx="368.25" cy="34" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M372.0313,29.9688 C372.0313,29.5313 372.0156,29.3906 371.9219,29.2344 C371.7813,29 371.5,28.8438 371.2031,28.8438 C370.8594,28.8438 370.7188,28.9844 370.5469,29.4063 C369.9531,29.0313 369.2031,28.8438 368.3281,28.8438 C366.2188,28.8438 364.6406,30.1406 364.6406,31.8594 C364.6406,32.8281 365.1719,33.7344 366.0313,34.2188 C366.5781,34.5313 367.125,34.7031 368.2344,34.8906 C369.3906,35.0938 369.6563,35.1563 370.0156,35.3438 C370.3906,35.5469 370.625,35.8906 370.625,36.25 C370.625,36.9844 369.6406,37.5313 368.3906,37.5313 C367.2656,37.5313 366.1875,37.0469 366.0156,36.4375 C365.8906,35.9688 365.8906,35.9688 365.7656,35.8594 C365.6094,35.7031 365.3906,35.6094 365.1563,35.6094 C364.875,35.6094 364.625,35.7344 364.4531,35.9531 C364.3438,36.125 364.2969,36.3125 364.2969,36.7344 L364.2969,37.8594 C364.2969,38.625 364.5781,38.9844 365.1719,38.9844 C365.4375,38.9844 365.5625,38.9219 365.8438,38.5781 C366.6875,39.0156 367.5781,39.2344 368.5,39.2344 C370.8281,39.2344 372.3906,38.0469 372.3906,36.2813 C372.3906,35.3906 372.0781,34.7031 371.3906,34.1563 C370.8594,33.7344 370.2188,33.4844 368.7344,33.2188 C367.4688,32.9844 367.375,32.9531 367.0469,32.7813 C366.6719,32.5938 366.4063,32.2031 366.4063,31.8438 C366.4063,31.1094 367.2656,30.5469 368.3281,30.5469 C369.3906,30.5469 370.2031,31.0156 370.3594,31.6875 C370.4688,32.2344 370.4688,32.2344 370.5938,32.375 C370.7344,32.5 370.9688,32.6094 371.2031,32.6094 C371.4688,32.6094 371.7188,32.4688 371.8906,32.25 C372,32.0781 372.0313,31.9375 372.0313,31.4688 L372.0313,29.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="53" x="385.75" y="38.8467">Service</text><line style="stroke:#000000;stroke-width:1.0;" x1="251" x2="546" y1="48" y2="48"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="184" x="256" y="64.9951">GetName()   //获取服务名称</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="167" x="256" y="81.292">Initialize()    //服务初始化</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="218" x="256" y="97.5889">MessageHandle() //消息处理函数</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="285" x="256" y="113.8857">GetTaskConfig() //获取服务的任务运行配置</text></g><path d="M516,190 L516,198.5664 L435,265.6484 L516,206.5664 L516,215.1328 A0,0 0 0 0 516,215.1328 L641,215.1328 A0,0 0 0 0 641,215.1328 L641,200 L631,190 L516,190 A0,0 0 0 0 516,190 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M631,190 L631,200 L641,200 L631,190 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="104" x="522" y="207.0669">指向具体服务对象</text><path d="M516,225.1328 L516,248.832 L475,281.9453 L516,256.832 L516,280.5313 A0,0 0 0 0 516,280.5313 L890,280.5313 A0,0 0 0 0 890,280.5313 L890,235.1328 L880,225.1328 L516,225.1328 A0,0 0 0 0 516,225.1328 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M880,225.1328 L880,235.1328 L890,235.1328 L880,225.1328 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="292" x="522" y="242.1997">通过宏INHERIT_IUNKNOWN继承IUnknown接口；</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="221" x="522" y="257.3325">用以记录服务或特性的对象引用数量；</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="353" x="522" y="272.4653">用以实现父类IUnkown指针到具体服务或特性指针的类型转换</text><path d="M516,290.5313 L516,299.0977 L433,330.8359 L516,307.0977 L516,315.6641 A0,0 0 0 0 516,315.6641 L823,315.6641 A0,0 0 0 0 823,315.6641 L823,300.5313 L813,290.5313 L516,290.5313 A0,0 0 0 0 516,290.5313 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M813,290.5313 L813,300.5313 L823,300.5313 L813,290.5313 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="286" x="522" y="307.5981">与g_samgrImpl-&gt;services-&gt;data的偏移量一致</text><path d="M516,325.6641 L516,341.7969 L409,347.1328 L516,349.7969 L516,365.9297 A0,0 0 0 0 516,365.9297 L953,365.9297 A0,0 0 0 0 953,365.9297 L953,335.6641 L943,325.6641 L516,325.6641 A0,0 0 0 0 516,325.6641 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M943,325.6641 L943,335.6641 L953,335.6641 L943,325.6641 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="256" x="522" y="342.731">服务状态：SVC_INIT,SVC_IDLE,SVC_BUSY</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="416" x="522" y="357.8638">处于SVC_INIT状态可以注册特性，处于SVC_IDLE状态可以处理消息事件</text><path d="M516,375.9297 L516,384.4961 L437,363.4297 L516,392.4961 L516,401.0625 A0,0 0 0 0 516,401.0625 L574,401.0625 A0,0 0 0 0 574,401.0625 L574,385.9297 L564,375.9297 L516,375.9297 A0,0 0 0 0 516,375.9297 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M564,375.9297 L564,385.9297 L574,385.9297 L564,375.9297 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="37" x="522" y="392.9966">//todo</text><g id="elem_GMN12"><path d="M582.5,50.5 L582.5,66.5 L547.128,70.5 L582.5,74.5 L582.5,90.7656 A0,0 0 0 0 582.5,90.7656 L824.5,90.7656 A0,0 0 0 0 824.5,90.7656 L824.5,60.5 L814.5,50.5 L582.5,50.5 A0,0 0 0 0 582.5,50.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M814.5,50.5 L814.5,60.5 L824.5,60.5 L814.5,50.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="221" x="588.5" y="67.5669">所有服务类的父类，每一个具体的服务</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="216" x="588.5" y="82.6997">类继承该类并实现其4个生命周期函数</text></g><!--link SamgrLiteImpl to Vector--><g id="link_SamgrLiteImpl_Vector"><path codeline="34" d="M122.5,129.034 C122.5,160.695 122.5,194.13 122.5,227.093 " fill="none" id="SamgrLiteImpl-to-Vector" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="122.5,233.093,126.5,224.093,122.5,228.093,118.5,224.093,122.5,233.093" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link Vector to ServiceImpl--><g id="link_Vector_ServiceImpl"><path codeline="35" d="M233.169,300.5 C260.764,300.5 283.878,300.5 309.855,300.5 " fill="none" id="Vector-to-ServiceImpl" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="315.855,300.5,306.855,296.5,310.855,300.5,306.855,304.5,315.855,300.5" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="46" x="251.5" y="293.5669">data[*]</text></g><!--reverse link Service to ServiceImpl--><g id="link_Service_ServiceImpl"><path codeline="36" d="M398.5,127.254 C398.5,157.652 398.5,191.1 398.5,225.155 " fill="none" id="Service-backto-ServiceImpl" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="398.5,121.254,394.5,130.254,398.5,126.254,402.5,130.254,398.5,121.254" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[hLHTInj157tlhzY-jT8WXL9A7eHgfIvgB2PQYfImkfEucFrWTs9hIo62caHZ4blrmLh5jX8f9Ocqn8yr-6TsTZTF_eNEHx8PeQKLkYyxUy-vTywzSsPlmrcW0i58IOfsIy3Fh2830QW6N11Ke4u3qwBXA3JJCr2O13DGDz_Ia2gz5iA2ei7x3-atr0tkAs42S0sM9IY5XNbTaOMU7XgP0mkOCJau41iRZm-31HgSqLL3Ca4N66012hxZjKGbDMcEA128gf5YakRXT0fd1WZJcOQ0A1qbRr6cCGjAC6tXOB-kmoZzO75WpYipW22iLHQTnGBaPxfEYiSaQuuifrx-HX9BxmhYQeOxQ038826bK_2neOG5SKARq_HNMW32zZRT3GCe0R1U4rZND78xYJ8_T_8e6Xu6ZgPn-54GrGrSOim0fWGLNRF-s4wtbQS0HYGLtBcBrxszVl44bRRTtNMqUe3Awrwb7X15lA4YfPGtZ8l9RLhk4wgieS9sm1m5bYKbmP2aoIb2nin6pbsieQzBNda5PPlkLftVdqnZGDSIIfAIUGtUpf9ZstZXNvRzWq9hUTrhLjjTiRPunmYXK1y_GBOKGgQId8KOuiuIdpfnxrGFEt8U2QMDBfVjekaG2BIAe2TuSZXiSGvm2rbKta3B9qxpGtiujJF_-822G9DfdRzMx7g8CbkP7VyoYwebCJ8qE2x6uk94P3WozZpYsHKtVzbncLiyHAKlLnSVQPAtUUJOXtwrZffRJ8cRs_RoPswcWaVALA6BBKp3Pz7AbgxdeUgULwnxkOPtR9Fwf7mXstgVGxawtrrGaw6uCav0Usj-yxkx_lbcNV__EGPNXnATqs8oRX6t43JKr_ajXFg83yXG5ajUnSQpS4upVlRdpVPYjv69PyPTRRYPnQkBdUZaG5oCYB5xTF5aP90k-YUYBoWRtmddlDWXiInKgk53S7ySePK2c-_LHO4ZuY8yaLqhTiMSypN7RjnCE_vdt68N6kgo_g-vhDTynjtDjpi-jea1g6cmNhT61kcSVcF7Y256OpR3NEfUltP8B7FMO9P3ouq7ECNRt4SRJRHnvExkSx-BZgfV]--></g></svg></p><h3 id="servcie类的3个子类具体实现">Servcie类的3个子类具体实现 </h3>
<p>//todo 三个服务的具体实现的区别与其优缺点</p>
<p>//todo C语言宏实现继承,IUnkown的QueryInterface操作</p>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="393px" preserveAspectRatio="none" style="width:958px;height:393px;background:#FFFFFF;" version="1.1" viewBox="0 0 958 393" width="958px" zoomAndPan="magnify"><defs></defs><g><!--class Bootstrap--><g id="elem_Bootstrap"><rect codeline="3" fill="#FFFFFF" height="68.5938" id="Bootstrap" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="139" x="148.5" y="173"></rect><ellipse cx="178.6" cy="187" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M182.3813,182.9688 C182.3813,182.5313 182.3656,182.3906 182.2719,182.2344 C182.1313,182 181.85,181.8438 181.5531,181.8438 C181.2094,181.8438 181.0688,181.9844 180.8969,182.4063 C180.3031,182.0313 179.5531,181.8438 178.6781,181.8438 C176.5688,181.8438 174.9906,183.1406 174.9906,184.8594 C174.9906,185.8281 175.5219,186.7344 176.3813,187.2188 C176.9281,187.5313 177.475,187.7031 178.5844,187.8906 C179.7406,188.0938 180.0063,188.1563 180.3656,188.3438 C180.7406,188.5469 180.975,188.8906 180.975,189.25 C180.975,189.9844 179.9906,190.5313 178.7406,190.5313 C177.6156,190.5313 176.5375,190.0469 176.3656,189.4375 C176.2406,188.9688 176.2406,188.9688 176.1156,188.8594 C175.9594,188.7031 175.7406,188.6094 175.5063,188.6094 C175.225,188.6094 174.975,188.7344 174.8031,188.9531 C174.6938,189.125 174.6469,189.3125 174.6469,189.7344 L174.6469,190.8594 C174.6469,191.625 174.9281,191.9844 175.5219,191.9844 C175.7875,191.9844 175.9125,191.9219 176.1938,191.5781 C177.0375,192.0156 177.9281,192.2344 178.85,192.2344 C181.1781,192.2344 182.7406,191.0469 182.7406,189.2813 C182.7406,188.3906 182.4281,187.7031 181.7406,187.1563 C181.2094,186.7344 180.5688,186.4844 179.0844,186.2188 C177.8188,185.9844 177.725,185.9531 177.3969,185.7813 C177.0219,185.5938 176.7563,185.2031 176.7563,184.8438 C176.7563,184.1094 177.6156,183.5469 178.6781,183.5469 C179.7406,183.5469 180.5531,184.0156 180.7094,184.6875 C180.8188,185.2344 180.8188,185.2344 180.9438,185.375 C181.0844,185.5 181.3188,185.6094 181.5531,185.6094 C181.8188,185.6094 182.0688,185.4688 182.2406,185.25 C182.35,185.0781 182.3813,184.9375 182.3813,184.4688 L182.3813,182.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="73" x="194.4" y="191.8467">Bootstrap</text><line style="stroke:#000000;stroke-width:1.0;" x1="149.5" x2="286.5" y1="201" y2="201"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="127" x="154.5" y="217.9951">identity : Identity</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="76" x="154.5" y="234.292">flag : unit8</text></g><!--class BroadcastService--><g id="elem_BroadcastService"><rect codeline="7" fill="#FFFFFF" height="28" id="BroadcastService" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="153" x="377.5" y="193.5"></rect><ellipse cx="390.5" cy="207.5" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M394.2813,203.4688 C394.2813,203.0313 394.2656,202.8906 394.1719,202.7344 C394.0313,202.5 393.75,202.3438 393.4531,202.3438 C393.1094,202.3438 392.9688,202.4844 392.7969,202.9063 C392.2031,202.5313 391.4531,202.3438 390.5781,202.3438 C388.4688,202.3438 386.8906,203.6406 386.8906,205.3594 C386.8906,206.3281 387.4219,207.2344 388.2813,207.7188 C388.8281,208.0313 389.375,208.2031 390.4844,208.3906 C391.6406,208.5938 391.9063,208.6563 392.2656,208.8438 C392.6406,209.0469 392.875,209.3906 392.875,209.75 C392.875,210.4844 391.8906,211.0313 390.6406,211.0313 C389.5156,211.0313 388.4375,210.5469 388.2656,209.9375 C388.1406,209.4688 388.1406,209.4688 388.0156,209.3594 C387.8594,209.2031 387.6406,209.1094 387.4063,209.1094 C387.125,209.1094 386.875,209.2344 386.7031,209.4531 C386.5938,209.625 386.5469,209.8125 386.5469,210.2344 L386.5469,211.3594 C386.5469,212.125 386.8281,212.4844 387.4219,212.4844 C387.6875,212.4844 387.8125,212.4219 388.0938,212.0781 C388.9375,212.5156 389.8281,212.7344 390.75,212.7344 C393.0781,212.7344 394.6406,211.5469 394.6406,209.7813 C394.6406,208.8906 394.3281,208.2031 393.6406,207.6563 C393.1094,207.2344 392.4688,206.9844 390.9844,206.7188 C389.7188,206.4844 389.625,206.4531 389.2969,206.2813 C388.9219,206.0938 388.6563,205.7031 388.6563,205.3438 C388.6563,204.6094 389.5156,204.0469 390.5781,204.0469 C391.6406,204.0469 392.4531,204.5156 392.6094,205.1875 C392.7188,205.7344 392.7188,205.7344 392.8438,205.875 C392.9844,206 393.2188,206.1094 393.4531,206.1094 C393.7188,206.1094 393.9688,205.9688 394.1406,205.75 C394.25,205.5781 394.2813,205.4375 394.2813,204.9688 L394.2813,203.4688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="125" x="402.5" y="212.3467">BroadcastService</text></g><!--class HiviewService--><g id="elem_HiviewService"><rect codeline="9" fill="#FFFFFF" height="52.2969" id="HiviewService" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="139" x="646.5" y="181.5"></rect><ellipse cx="664.9" cy="195.5" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M668.6813,191.4688 C668.6813,191.0313 668.6656,190.8906 668.5719,190.7344 C668.4313,190.5 668.15,190.3438 667.8531,190.3438 C667.5094,190.3438 667.3688,190.4844 667.1969,190.9063 C666.6031,190.5313 665.8531,190.3438 664.9781,190.3438 C662.8688,190.3438 661.2906,191.6406 661.2906,193.3594 C661.2906,194.3281 661.8219,195.2344 662.6813,195.7188 C663.2281,196.0313 663.775,196.2031 664.8844,196.3906 C666.0406,196.5938 666.3063,196.6563 666.6656,196.8438 C667.0406,197.0469 667.275,197.3906 667.275,197.75 C667.275,198.4844 666.2906,199.0313 665.0406,199.0313 C663.9156,199.0313 662.8375,198.5469 662.6656,197.9375 C662.5406,197.4688 662.5406,197.4688 662.4156,197.3594 C662.2594,197.2031 662.0406,197.1094 661.8063,197.1094 C661.525,197.1094 661.275,197.2344 661.1031,197.4531 C660.9938,197.625 660.9469,197.8125 660.9469,198.2344 L660.9469,199.3594 C660.9469,200.125 661.2281,200.4844 661.8219,200.4844 C662.0875,200.4844 662.2125,200.4219 662.4938,200.0781 C663.3375,200.5156 664.2281,200.7344 665.15,200.7344 C667.4781,200.7344 669.0406,199.5469 669.0406,197.7813 C669.0406,196.8906 668.7281,196.2031 668.0406,195.6563 C667.5094,195.2344 666.8688,194.9844 665.3844,194.7188 C664.1188,194.4844 664.025,194.4531 663.6969,194.2813 C663.3219,194.0938 663.0563,193.7031 663.0563,193.3438 C663.0563,192.6094 663.9156,192.0469 664.9781,192.0469 C666.0406,192.0469 666.8531,192.5156 667.0094,193.1875 C667.1188,193.7344 667.1188,193.7344 667.2438,193.875 C667.3844,194 667.6188,194.1094 667.8531,194.1094 C668.1188,194.1094 668.3688,193.9688 668.5406,193.75 C668.65,193.5781 668.6813,193.4375 668.6813,192.9688 L668.6813,191.4688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99" x="678.1" y="200.3467">HiviewService</text><line style="stroke:#000000;stroke-width:1.0;" x1="647.5" x2="784.5" y1="209.5" y2="209.5"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="127" x="652.5" y="226.4951">identity : Identity</text></g><!--class HiviewInterface--><g id="elem_HiviewInterface"><rect codeline="12" fill="#FFFFFF" height="52.2969" id="HiviewInterface" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="140" x="646" y="318.5"></rect><ellipse cx="659" cy="332.5" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M662.7813,328.4688 C662.7813,328.0313 662.7656,327.8906 662.6719,327.7344 C662.5313,327.5 662.25,327.3438 661.9531,327.3438 C661.6094,327.3438 661.4688,327.4844 661.2969,327.9063 C660.7031,327.5313 659.9531,327.3438 659.0781,327.3438 C656.9688,327.3438 655.3906,328.6406 655.3906,330.3594 C655.3906,331.3281 655.9219,332.2344 656.7813,332.7188 C657.3281,333.0313 657.875,333.2031 658.9844,333.3906 C660.1406,333.5938 660.4063,333.6563 660.7656,333.8438 C661.1406,334.0469 661.375,334.3906 661.375,334.75 C661.375,335.4844 660.3906,336.0313 659.1406,336.0313 C658.0156,336.0313 656.9375,335.5469 656.7656,334.9375 C656.6406,334.4688 656.6406,334.4688 656.5156,334.3594 C656.3594,334.2031 656.1406,334.1094 655.9063,334.1094 C655.625,334.1094 655.375,334.2344 655.2031,334.4531 C655.0938,334.625 655.0469,334.8125 655.0469,335.2344 L655.0469,336.3594 C655.0469,337.125 655.3281,337.4844 655.9219,337.4844 C656.1875,337.4844 656.3125,337.4219 656.5938,337.0781 C657.4375,337.5156 658.3281,337.7344 659.25,337.7344 C661.5781,337.7344 663.1406,336.5469 663.1406,334.7813 C663.1406,333.8906 662.8281,333.2031 662.1406,332.6563 C661.6094,332.2344 660.9688,331.9844 659.4844,331.7188 C658.2188,331.4844 658.125,331.4531 657.7969,331.2813 C657.4219,331.0938 657.1563,330.7031 657.1563,330.3438 C657.1563,329.6094 658.0156,329.0469 659.0781,329.0469 C660.1406,329.0469 660.9531,329.5156 661.1094,330.1875 C661.2188,330.7344 661.2188,330.7344 661.3438,330.875 C661.4844,331 661.7188,331.1094 661.9531,331.1094 C662.2188,331.1094 662.4688,330.9688 662.6406,330.75 C662.75,330.5781 662.7813,330.4375 662.7813,329.9688 L662.7813,328.4688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="112" x="671" y="337.3467">HiviewInterface</text><line style="stroke:#000000;stroke-width:1.0;" x1="647" x2="785" y1="346.5" y2="346.5"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59" x="652" y="363.4951">output()</text></g><!--class Service--><g id="elem_Service"><rect codeline="15" fill="#FFFFFF" height="101.1875" id="Service" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="297" x="293.5" y="12"></rect><ellipse cx="411.75" cy="26" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M415.5313,21.9688 C415.5313,21.5313 415.5156,21.3906 415.4219,21.2344 C415.2813,21 415,20.8438 414.7031,20.8438 C414.3594,20.8438 414.2188,20.9844 414.0469,21.4063 C413.4531,21.0313 412.7031,20.8438 411.8281,20.8438 C409.7188,20.8438 408.1406,22.1406 408.1406,23.8594 C408.1406,24.8281 408.6719,25.7344 409.5313,26.2188 C410.0781,26.5313 410.625,26.7031 411.7344,26.8906 C412.8906,27.0938 413.1563,27.1563 413.5156,27.3438 C413.8906,27.5469 414.125,27.8906 414.125,28.25 C414.125,28.9844 413.1406,29.5313 411.8906,29.5313 C410.7656,29.5313 409.6875,29.0469 409.5156,28.4375 C409.3906,27.9688 409.3906,27.9688 409.2656,27.8594 C409.1094,27.7031 408.8906,27.6094 408.6563,27.6094 C408.375,27.6094 408.125,27.7344 407.9531,27.9531 C407.8438,28.125 407.7969,28.3125 407.7969,28.7344 L407.7969,29.8594 C407.7969,30.625 408.0781,30.9844 408.6719,30.9844 C408.9375,30.9844 409.0625,30.9219 409.3438,30.5781 C410.1875,31.0156 411.0781,31.2344 412,31.2344 C414.3281,31.2344 415.8906,30.0469 415.8906,28.2813 C415.8906,27.3906 415.5781,26.7031 414.8906,26.1563 C414.3594,25.7344 413.7188,25.4844 412.2344,25.2188 C410.9688,24.9844 410.875,24.9531 410.5469,24.7813 C410.1719,24.5938 409.9063,24.2031 409.9063,23.8438 C409.9063,23.1094 410.7656,22.5469 411.8281,22.5469 C412.8906,22.5469 413.7031,23.0156 413.8594,23.6875 C413.9688,24.2344 413.9688,24.2344 414.0938,24.375 C414.2344,24.5 414.4688,24.6094 414.7031,24.6094 C414.9688,24.6094 415.2188,24.4688 415.3906,24.25 C415.5,24.0781 415.5313,23.9375 415.5313,23.4688 L415.5313,21.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="53" x="429.25" y="30.8467">Service</text><line style="stroke:#000000;stroke-width:1.0;" x1="294.5" x2="589.5" y1="40" y2="40"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="184" x="299.5" y="56.9951">GetName()   //获取服务名称</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="167" x="299.5" y="73.292">Initialize()    //服务初始化</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="218" x="299.5" y="89.5889">MessageHandle() //消息处理函数</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="285" x="299.5" y="105.8857">GetTaskConfig() //获取服务的任务运行配置</text></g><!--class IUnknown--><g id="elem_IUnknown"><rect codeline="21" fill="#FFFFFF" height="84.8906" id="IUnknown" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="130" x="821" y="302"></rect><ellipse cx="848.85" cy="316" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M852.6313,311.9688 C852.6313,311.5313 852.6156,311.3906 852.5219,311.2344 C852.3813,311 852.1,310.8438 851.8031,310.8438 C851.4594,310.8438 851.3188,310.9844 851.1469,311.4063 C850.5531,311.0313 849.8031,310.8438 848.9281,310.8438 C846.8188,310.8438 845.2406,312.1406 845.2406,313.8594 C845.2406,314.8281 845.7719,315.7344 846.6313,316.2188 C847.1781,316.5313 847.725,316.7031 848.8344,316.8906 C849.9906,317.0938 850.2563,317.1563 850.6156,317.3438 C850.9906,317.5469 851.225,317.8906 851.225,318.25 C851.225,318.9844 850.2406,319.5313 848.9906,319.5313 C847.8656,319.5313 846.7875,319.0469 846.6156,318.4375 C846.4906,317.9688 846.4906,317.9688 846.3656,317.8594 C846.2094,317.7031 845.9906,317.6094 845.7563,317.6094 C845.475,317.6094 845.225,317.7344 845.0531,317.9531 C844.9438,318.125 844.8969,318.3125 844.8969,318.7344 L844.8969,319.8594 C844.8969,320.625 845.1781,320.9844 845.7719,320.9844 C846.0375,320.9844 846.1625,320.9219 846.4438,320.5781 C847.2875,321.0156 848.1781,321.2344 849.1,321.2344 C851.4281,321.2344 852.9906,320.0469 852.9906,318.2813 C852.9906,317.3906 852.6781,316.7031 851.9906,316.1563 C851.4594,315.7344 850.8188,315.4844 849.3344,315.2188 C848.0688,314.9844 847.975,314.9531 847.6469,314.7813 C847.2719,314.5938 847.0063,314.2031 847.0063,313.8438 C847.0063,313.1094 847.8656,312.5469 848.9281,312.5469 C849.9906,312.5469 850.8031,313.0156 850.9594,313.6875 C851.0688,314.2344 851.0688,314.2344 851.1938,314.375 C851.3344,314.5 851.5688,314.6094 851.8031,314.6094 C852.0688,314.6094 852.3188,314.4688 852.4906,314.25 C852.6,314.0781 852.6313,313.9375 852.6313,313.4688 L852.6313,311.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="69" x="864.15" y="320.8467">IUnknown</text><line style="stroke:#000000;stroke-width:1.0;" x1="822" x2="950" y1="330" y2="330"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="118" x="827" y="346.9951">QueryInterface()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="63" x="827" y="363.292">AddRef()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66" x="827" y="379.5889">Release()</text></g><g id="elem_GMN16"><path d="M11,324.5 L11,364.7656 A0,0 0 0 0 11,364.7656 L317,364.7656 A0,0 0 0 0 317,364.7656 L317,334.5 L307,324.5 L175.655,324.5 L204.513,242.218 L167.655,324.5 L11,324.5 A0,0 0 0 0 11,324.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M307,324.5 L307,334.5 L317,334.5 L307,324.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="272" x="17" y="341.5669">调用INIT_APP_CALL()，以启动App服务与特性</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="285" x="17" y="356.6997">(被SYSEX\APP_SERVICE\FEATURE_INIT宏修饰)</text></g><g id="elem_GMN19"><path d="M352,332 L352,357.1328 A0,0 0 0 0 352,357.1328 L600,357.1328 A0,0 0 0 0 600,357.1328 L600,342 L590,332 L478.073,332 L456.19,221.938 L470.073,332 L352,332 A0,0 0 0 0 352,332 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M590,332 L590,342 L600,342 L590,332 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="227" x="358" y="349.0669">该服务的功能由其PubSubFeature提供</text></g><g id="elem_n1"><path d="M626,50 L626,75.1328 A0,0 0 0 0 626,75.1328 L752.399,75.1328 L723.747,181.323 L760.399,75.1328 L894,75.1328 A0,0 0 0 0 894,75.1328 L894,60 L884,50 L626,50 A0,0 0 0 0 626,50 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M884,50 L884,60 L894,60 L884,50 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="247" x="632" y="67.0669">DFX的子系统，提升软件质量设计的工具集</text></g><!--reverse link Service to Bootstrap--><g id="link_Service_Bootstrap"><path codeline="27" d="M349.1122,122.7989 C318.1542,142.5629 298.5,155.109 270.597,172.923 " fill="none" id="Service-backto-Bootstrap" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="364.284,113.113,345.8836,117.7416,352.3408,127.8562,364.284,113.113" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Service to BroadcastService--><g id="link_Service_BroadcastService"><path codeline="28" d="M447.6686,131.0499 C450.0656,159.6059 451.389,175.381 452.906,193.467 " fill="none" id="Service-backto-BroadcastService" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="446.163,113.113,441.6897,131.5518,453.6476,130.548,446.163,113.113" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Service to HiviewService--><g id="link_Service_HiviewService"><path codeline="29" d="M553.0205,121.4412 C597.2265,144.5122 631.922,162.62 668.025,181.462 " fill="none" id="Service-backto-HiviewService" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="537.063,113.113,550.2444,126.7603,555.7965,116.122,537.063,113.113" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link HiviewService to HiviewInterface--><g id="link_HiviewService_HiviewInterface"><path codeline="30" d="M716,233.576 C716,257.672 716,275.8965 716,300.1001 " fill="none" id="HiviewService-to-HiviewInterface" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="716,318.1001,722,300.1001,710,300.1001,716,318.1001" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link HiviewInterface to IUnknown--><g id="link_HiviewInterface_IUnknown"><path codeline="31" d="M786.059,344.5 C797.64,344.5 791.222,344.5 802.804,344.5 " fill="none" id="HiviewInterface-to-IUnknown" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="820.804,344.5,802.804,338.5,802.804,350.5,820.804,344.5" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[ZPBVRz9G5CVVzrTSzmGFsx8tuuC98hWcSq7Ap4oMa0kzG3Fw8-tjbZbDN3R6H1Xzc7jmccL60eaHC1hGLBP_ffUM9_y5RrlMyKlZVMXkplbyxpddUte7vv20W9o7l3W7wCdn7098aF4k492GGehgXbciQ6aC7aWILh42vJqtwXpAYvYd-3t03Az-BfE7MHhNH1xVTOClnnvJ9CYbeOfPf6ppQRGtZQpmsppQ6Sl_g-OCBIDYf6JWg5hIiApXG71QCbNe4S9hK4218BqlBTadNL8zwx-laD8bqIjMlUs331sHXtd-kSTIU8WTVo3rDwHyvfEFaQh2B5g18fTtO4fsZllxBVBfqDAFIB7NVziUhP-0wbPO4ZDyreL7Ux3U7Pg6GI_sjMvVbWU5YjLhJa_5h8jRehGZtexrH4FAhk_Cq0ddX3WkZZ8ZWJZA8wYYCRFSZ_ydW0LDNdXn_yOxBpcnsLdCs6h_0-3e10uoiTOHr8-11ONFvh13tym-vtAYX158IHXB0f0ojpEuIRjzO9qsc3KcaGp5OibmQ7Kr4FpzgsmQDQAtIAaHacNFT_F7YVNwP_zLtTK5x8-VsMTiP6FJaR6H-5Cc7DcCHaA9zNWawRn7cbNpkZcejJqNaSYvdSpkQS8whxLMpTyuALtO1pthz2ifT69QYjLIKGInfg1-LJUlplzMOVvXTCDHVz6jRuPbND31g81KYdQlPHeT-tjZKApQpIkxwHRfraYXEpW_cWTG1UAozyuoM5mSNyiV]--></g></svg></p><blockquote>
<p><code>IUnknown</code> 是 COM (Component Object Model) 技术中的一个核心接口。COM 是 Microsoft 开发的一个组件化编程模型，广泛用于 Windows 操作系统中。<code>IUnknown</code> 接口为所有 COM 对象提供了基本的对象生命周期管理和接口查询机制。</p>
<p><code>IUnknown</code> 提供了三个核心方法：</p>
<ol>
<li><strong>AddRef()</strong>: 增加对象的引用计数。</li>
<li><strong>Release()</strong>: 减少对象的引用计数，并在引用计数达到零时删除对象。</li>
<li><strong>QueryInterface()</strong>: 允许客户端查询对象是否支持特定的接口，并获取该接口的指针。<br>
任何想要遵循 COM 规则并能够在 COM 环境中使用的对象都必须实现 <code>IUnknown</code> 接口。此外，COM 对象的生命周期管理是通过引用计数完成的，即当一个客户端开始使用一个对象时，它会调用 <code>AddRef</code>，当不再使用它时会调用 <code>Release</code>。当对象的引用计数达到零时，对象会自动销毁。</li>
</ol>
<p><code>QueryInterface</code> 方法允许对象在运行时查询它是否支持特定的接口。这是一种动态类型检查机制，允许安全地在对象上调用特定的方法。</p>
</blockquote>
<h4 id="broadcastservice">BroadcastService </h4>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="670px" preserveAspectRatio="none" style="width:1138px;height:670px;background:#FFFFFF;" version="1.1" viewBox="0 0 1138 670" width="1138px" zoomAndPan="magnify"><defs></defs><g><!--class SamgrLiteImpl--><g id="elem_SamgrLiteImpl"><rect codeline="3" fill="#FFFFFF" height="117.4844" id="SamgrLiteImpl" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="178" x="193.5" y="12"></rect><ellipse cx="226.3" cy="26" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M230.0813,21.9688 C230.0813,21.5313 230.0656,21.3906 229.9719,21.2344 C229.8313,21 229.55,20.8438 229.2531,20.8438 C228.9094,20.8438 228.7688,20.9844 228.5969,21.4063 C228.0031,21.0313 227.2531,20.8438 226.3781,20.8438 C224.2688,20.8438 222.6906,22.1406 222.6906,23.8594 C222.6906,24.8281 223.2219,25.7344 224.0813,26.2188 C224.6281,26.5313 225.175,26.7031 226.2844,26.8906 C227.4406,27.0938 227.7063,27.1563 228.0656,27.3438 C228.4406,27.5469 228.675,27.8906 228.675,28.25 C228.675,28.9844 227.6906,29.5313 226.4406,29.5313 C225.3156,29.5313 224.2375,29.0469 224.0656,28.4375 C223.9406,27.9688 223.9406,27.9688 223.8156,27.8594 C223.6594,27.7031 223.4406,27.6094 223.2063,27.6094 C222.925,27.6094 222.675,27.7344 222.5031,27.9531 C222.3938,28.125 222.3469,28.3125 222.3469,28.7344 L222.3469,29.8594 C222.3469,30.625 222.6281,30.9844 223.2219,30.9844 C223.4875,30.9844 223.6125,30.9219 223.8938,30.5781 C224.7375,31.0156 225.6281,31.2344 226.55,31.2344 C228.8781,31.2344 230.4406,30.0469 230.4406,28.2813 C230.4406,27.3906 230.1281,26.7031 229.4406,26.1563 C228.9094,25.7344 228.2688,25.4844 226.7844,25.2188 C225.5188,24.9844 225.425,24.9531 225.0969,24.7813 C224.7219,24.5938 224.4563,24.2031 224.4563,23.8438 C224.4563,23.1094 225.3156,22.5469 226.3781,22.5469 C227.4406,22.5469 228.2531,23.0156 228.4094,23.6875 C228.5188,24.2344 228.5188,24.2344 228.6438,24.375 C228.7844,24.5 229.0188,24.6094 229.2531,24.6094 C229.5188,24.6094 229.7688,24.4688 229.9406,24.25 C230.05,24.0781 230.0813,23.9375 230.0813,23.4688 L230.0813,21.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106" x="242.7" y="30.8467">SamgrLiteImpl</text><line style="stroke:#000000;stroke-width:1.0;" x1="194.5" x2="370.5" y1="40" y2="40"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="199.5" y="56.9951">vtbl : SamgrLite</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="199.5" y="73.292">mutex : MutexId</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="138" x="199.5" y="89.5889">status : BootStatus</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120" x="199.5" y="105.8857">services : Vector</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="166" x="199.5" y="122.1826">sharedPool : TaskPool[]</text></g><!--class Service--><g id="elem_Service"><rect codeline="10" fill="#FFFFFF" height="101.1875" id="Service" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="132" x="22.5" y="417"></rect><ellipse cx="58.45" cy="431" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M62.2313,426.9688 C62.2313,426.5313 62.2156,426.3906 62.1219,426.2344 C61.9813,426 61.7,425.8438 61.4031,425.8438 C61.0594,425.8438 60.9188,425.9844 60.7469,426.4063 C60.1531,426.0313 59.4031,425.8438 58.5281,425.8438 C56.4188,425.8438 54.8406,427.1406 54.8406,428.8594 C54.8406,429.8281 55.3719,430.7344 56.2313,431.2188 C56.7781,431.5313 57.325,431.7031 58.4344,431.8906 C59.5906,432.0938 59.8563,432.1563 60.2156,432.3438 C60.5906,432.5469 60.825,432.8906 60.825,433.25 C60.825,433.9844 59.8406,434.5313 58.5906,434.5313 C57.4656,434.5313 56.3875,434.0469 56.2156,433.4375 C56.0906,432.9688 56.0906,432.9688 55.9656,432.8594 C55.8094,432.7031 55.5906,432.6094 55.3563,432.6094 C55.075,432.6094 54.825,432.7344 54.6531,432.9531 C54.5438,433.125 54.4969,433.3125 54.4969,433.7344 L54.4969,434.8594 C54.4969,435.625 54.7781,435.9844 55.3719,435.9844 C55.6375,435.9844 55.7625,435.9219 56.0438,435.5781 C56.8875,436.0156 57.7781,436.2344 58.7,436.2344 C61.0281,436.2344 62.5906,435.0469 62.5906,433.2813 C62.5906,432.3906 62.2781,431.7031 61.5906,431.1563 C61.0594,430.7344 60.4188,430.4844 58.9344,430.2188 C57.6688,429.9844 57.575,429.9531 57.2469,429.7813 C56.8719,429.5938 56.6063,429.2031 56.6063,428.8438 C56.6063,428.1094 57.4656,427.5469 58.5281,427.5469 C59.5906,427.5469 60.4031,428.0156 60.5594,428.6875 C60.6688,429.2344 60.6688,429.2344 60.7938,429.375 C60.9344,429.5 61.1688,429.6094 61.4031,429.6094 C61.6688,429.6094 61.9188,429.4688 62.0906,429.25 C62.2,429.0781 62.2313,428.9375 62.2313,428.4688 L62.2313,426.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="53" x="75.55" y="435.8467">Service</text><line style="stroke:#000000;stroke-width:1.0;" x1="23.5" x2="153.5" y1="445" y2="445"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="78" x="28.5" y="461.9951">GetName()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71" x="28.5" y="478.292">Initialize()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120" x="28.5" y="494.5889">MessageHandle()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117" x="28.5" y="510.8857">GetTaskConfig()</text></g><!--class BroadcastService--><g id="elem_BroadcastService"><rect codeline="16" fill="#FFFFFF" height="28" id="BroadcastService" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="153" x="12" y="267"></rect><ellipse cx="25" cy="281" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M28.7813,276.9688 C28.7813,276.5313 28.7656,276.3906 28.6719,276.2344 C28.5313,276 28.25,275.8438 27.9531,275.8438 C27.6094,275.8438 27.4688,275.9844 27.2969,276.4063 C26.7031,276.0313 25.9531,275.8438 25.0781,275.8438 C22.9688,275.8438 21.3906,277.1406 21.3906,278.8594 C21.3906,279.8281 21.9219,280.7344 22.7813,281.2188 C23.3281,281.5313 23.875,281.7031 24.9844,281.8906 C26.1406,282.0938 26.4063,282.1563 26.7656,282.3438 C27.1406,282.5469 27.375,282.8906 27.375,283.25 C27.375,283.9844 26.3906,284.5313 25.1406,284.5313 C24.0156,284.5313 22.9375,284.0469 22.7656,283.4375 C22.6406,282.9688 22.6406,282.9688 22.5156,282.8594 C22.3594,282.7031 22.1406,282.6094 21.9063,282.6094 C21.625,282.6094 21.375,282.7344 21.2031,282.9531 C21.0938,283.125 21.0469,283.3125 21.0469,283.7344 L21.0469,284.8594 C21.0469,285.625 21.3281,285.9844 21.9219,285.9844 C22.1875,285.9844 22.3125,285.9219 22.5938,285.5781 C23.4375,286.0156 24.3281,286.2344 25.25,286.2344 C27.5781,286.2344 29.1406,285.0469 29.1406,283.2813 C29.1406,282.3906 28.8281,281.7031 28.1406,281.1563 C27.6094,280.7344 26.9688,280.4844 25.4844,280.2188 C24.2188,279.9844 24.125,279.9531 23.7969,279.7813 C23.4219,279.5938 23.1563,279.2031 23.1563,278.8438 C23.1563,278.1094 24.0156,277.5469 25.0781,277.5469 C26.1406,277.5469 26.9531,278.0156 27.1094,278.6875 C27.2188,279.2344 27.2188,279.2344 27.3438,279.375 C27.4844,279.5 27.7188,279.6094 27.9531,279.6094 C28.2188,279.6094 28.4688,279.4688 28.6406,279.25 C28.75,279.0781 28.7813,278.9375 28.7813,278.4688 L28.7813,276.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="125" x="37" y="285.8467">BroadcastService</text></g><!--class IUnknown--><g id="elem_IUnknown"><rect codeline="18" fill="#FFFFFF" height="84.8906" id="IUnknown" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="130" x="341.5" y="579"></rect><ellipse cx="369.35" cy="593" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M373.1313,588.9688 C373.1313,588.5313 373.1156,588.3906 373.0219,588.2344 C372.8813,588 372.6,587.8438 372.3031,587.8438 C371.9594,587.8438 371.8188,587.9844 371.6469,588.4063 C371.0531,588.0313 370.3031,587.8438 369.4281,587.8438 C367.3188,587.8438 365.7406,589.1406 365.7406,590.8594 C365.7406,591.8281 366.2719,592.7344 367.1313,593.2188 C367.6781,593.5313 368.225,593.7031 369.3344,593.8906 C370.4906,594.0938 370.7563,594.1563 371.1156,594.3438 C371.4906,594.5469 371.725,594.8906 371.725,595.25 C371.725,595.9844 370.7406,596.5313 369.4906,596.5313 C368.3656,596.5313 367.2875,596.0469 367.1156,595.4375 C366.9906,594.9688 366.9906,594.9688 366.8656,594.8594 C366.7094,594.7031 366.4906,594.6094 366.2563,594.6094 C365.975,594.6094 365.725,594.7344 365.5531,594.9531 C365.4438,595.125 365.3969,595.3125 365.3969,595.7344 L365.3969,596.8594 C365.3969,597.625 365.6781,597.9844 366.2719,597.9844 C366.5375,597.9844 366.6625,597.9219 366.9438,597.5781 C367.7875,598.0156 368.6781,598.2344 369.6,598.2344 C371.9281,598.2344 373.4906,597.0469 373.4906,595.2813 C373.4906,594.3906 373.1781,593.7031 372.4906,593.1563 C371.9594,592.7344 371.3188,592.4844 369.8344,592.2188 C368.5688,591.9844 368.475,591.9531 368.1469,591.7813 C367.7719,591.5938 367.5063,591.2031 367.5063,590.8438 C367.5063,590.1094 368.3656,589.5469 369.4281,589.5469 C370.4906,589.5469 371.3031,590.0156 371.4594,590.6875 C371.5688,591.2344 371.5688,591.2344 371.6938,591.375 C371.8344,591.5 372.0688,591.6094 372.3031,591.6094 C372.5688,591.6094 372.8188,591.4688 372.9906,591.25 C373.1,591.0781 373.1313,590.9375 373.1313,590.4688 L373.1313,588.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="69" x="384.65" y="597.8467">IUnknown</text><line style="stroke:#000000;stroke-width:1.0;" x1="342.5" x2="470.5" y1="607" y2="607"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="118" x="347.5" y="623.9951">QueryInterface()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="63" x="347.5" y="640.292">AddRef()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66" x="347.5" y="656.5889">Release()</text></g><!--class ServiceImpl--><g id="elem_ServiceImpl"><rect codeline="23" fill="#FFFFFF" height="150.0781" id="ServiceImpl" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="165" x="200" y="206"></rect><ellipse cx="236.4" cy="220" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M240.1813,215.9688 C240.1813,215.5313 240.1656,215.3906 240.0719,215.2344 C239.9313,215 239.65,214.8438 239.3531,214.8438 C239.0094,214.8438 238.8688,214.9844 238.6969,215.4063 C238.1031,215.0313 237.3531,214.8438 236.4781,214.8438 C234.3688,214.8438 232.7906,216.1406 232.7906,217.8594 C232.7906,218.8281 233.3219,219.7344 234.1813,220.2188 C234.7281,220.5313 235.275,220.7031 236.3844,220.8906 C237.5406,221.0938 237.8063,221.1563 238.1656,221.3438 C238.5406,221.5469 238.775,221.8906 238.775,222.25 C238.775,222.9844 237.7906,223.5313 236.5406,223.5313 C235.4156,223.5313 234.3375,223.0469 234.1656,222.4375 C234.0406,221.9688 234.0406,221.9688 233.9156,221.8594 C233.7594,221.7031 233.5406,221.6094 233.3063,221.6094 C233.025,221.6094 232.775,221.7344 232.6031,221.9531 C232.4938,222.125 232.4469,222.3125 232.4469,222.7344 L232.4469,223.8594 C232.4469,224.625 232.7281,224.9844 233.3219,224.9844 C233.5875,224.9844 233.7125,224.9219 233.9938,224.5781 C234.8375,225.0156 235.7281,225.2344 236.65,225.2344 C238.9781,225.2344 240.5406,224.0469 240.5406,222.2813 C240.5406,221.3906 240.2281,220.7031 239.5406,220.1563 C239.0094,219.7344 238.3688,219.4844 236.8844,219.2188 C235.6188,218.9844 235.525,218.9531 235.1969,218.7813 C234.8219,218.5938 234.5563,218.2031 234.5563,217.8438 C234.5563,217.1094 235.4156,216.5469 236.4781,216.5469 C237.5406,216.5469 238.3531,217.0156 238.5094,217.6875 C238.6188,218.2344 238.6188,218.2344 238.7438,218.375 C238.8844,218.5 239.1188,218.6094 239.3531,218.6094 C239.6188,218.6094 239.8688,218.4688 240.0406,218.25 C240.15,218.0781 240.1813,217.9375 240.1813,217.4688 L240.1813,215.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="85" x="253.6" y="224.8467">ServiceImpl</text><line style="stroke:#000000;stroke-width:1.0;" x1="201" x2="364" y1="234" y2="234"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="113" x="206" y="250.9951">service: Service</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="153" x="206" y="267.292">defaultApi: IUnknown</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="135" x="206" y="283.5889">taskPool: TaskPool</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="118" x="206" y="299.8857">features: Vector</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="111" x="206" y="316.1826">serviceId: int16</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="87" x="206" y="332.4795">inited: uint8</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="115" x="206" y="348.7764">ops: Operations</text></g><!--class PubSubImplement--><g id="elem_PubSubImplement"><rect codeline="32" fill="#FFFFFF" height="141.7813" id="PubSubImplement" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="187" x="518" y="210"></rect><ellipse cx="542.25" cy="224" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M546.0313,219.9688 C546.0313,219.5313 546.0156,219.3906 545.9219,219.2344 C545.7813,219 545.5,218.8438 545.2031,218.8438 C544.8594,218.8438 544.7188,218.9844 544.5469,219.4063 C543.9531,219.0313 543.2031,218.8438 542.3281,218.8438 C540.2188,218.8438 538.6406,220.1406 538.6406,221.8594 C538.6406,222.8281 539.1719,223.7344 540.0313,224.2188 C540.5781,224.5313 541.125,224.7031 542.2344,224.8906 C543.3906,225.0938 543.6563,225.1563 544.0156,225.3438 C544.3906,225.5469 544.625,225.8906 544.625,226.25 C544.625,226.9844 543.6406,227.5313 542.3906,227.5313 C541.2656,227.5313 540.1875,227.0469 540.0156,226.4375 C539.8906,225.9688 539.8906,225.9688 539.7656,225.8594 C539.6094,225.7031 539.3906,225.6094 539.1563,225.6094 C538.875,225.6094 538.625,225.7344 538.4531,225.9531 C538.3438,226.125 538.2969,226.3125 538.2969,226.7344 L538.2969,227.8594 C538.2969,228.625 538.5781,228.9844 539.1719,228.9844 C539.4375,228.9844 539.5625,228.9219 539.8438,228.5781 C540.6875,229.0156 541.5781,229.2344 542.5,229.2344 C544.8281,229.2344 546.3906,228.0469 546.3906,226.2813 C546.3906,225.3906 546.0781,224.7031 545.3906,224.1563 C544.8594,223.7344 544.2188,223.4844 542.7344,223.2188 C541.4688,222.9844 541.375,222.9531 541.0469,222.7813 C540.6719,222.5938 540.4063,222.2031 540.4063,221.8438 C540.4063,221.1094 541.2656,220.5469 542.3281,220.5469 C543.3906,220.5469 544.2031,221.0156 544.3594,221.6875 C544.4688,222.2344 544.4688,222.2344 544.5938,222.375 C544.7344,222.5 544.9688,222.6094 545.2031,222.6094 C545.4688,222.6094 545.7188,222.4688 545.8906,222.25 C546,222.0781 546.0313,221.9375 546.0313,221.4688 L546.0313,219.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="134" x="556.75" y="228.8467">PubSubImplement</text><line style="stroke:#000000;stroke-width:1.0;" x1="519" x2="704" y1="238" y2="238"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="175" x="524" y="254.9951">feature : PubSubFeature</text><line style="stroke:#000000;stroke-width:1.0;" x1="519" x2="704" y1="262.2969" y2="262.2969"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="76" x="524" y="279.292">addTopic()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="79" x="524" y="295.5889">subscribe()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="132" x="524" y="311.8857">modifyConsumer()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="96" x="524" y="328.1826">unsubscribe()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="62" x="524" y="344.4795">publish()</text></g><!--class PubSubInterface--><g id="elem_PubSubInterface"><rect codeline="40" fill="#FFFFFF" height="68.5938" id="PubSubInterface" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="177" x="318" y="433"></rect><ellipse cx="344.05" cy="447" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M347.8313,442.9688 C347.8313,442.5313 347.8156,442.3906 347.7219,442.2344 C347.5813,442 347.3,441.8438 347.0031,441.8438 C346.6594,441.8438 346.5188,441.9844 346.3469,442.4063 C345.7531,442.0313 345.0031,441.8438 344.1281,441.8438 C342.0188,441.8438 340.4406,443.1406 340.4406,444.8594 C340.4406,445.8281 340.9719,446.7344 341.8313,447.2188 C342.3781,447.5313 342.925,447.7031 344.0344,447.8906 C345.1906,448.0938 345.4563,448.1563 345.8156,448.3438 C346.1906,448.5469 346.425,448.8906 346.425,449.25 C346.425,449.9844 345.4406,450.5313 344.1906,450.5313 C343.0656,450.5313 341.9875,450.0469 341.8156,449.4375 C341.6906,448.9688 341.6906,448.9688 341.5656,448.8594 C341.4094,448.7031 341.1906,448.6094 340.9563,448.6094 C340.675,448.6094 340.425,448.7344 340.2531,448.9531 C340.1438,449.125 340.0969,449.3125 340.0969,449.7344 L340.0969,450.8594 C340.0969,451.625 340.3781,451.9844 340.9719,451.9844 C341.2375,451.9844 341.3625,451.9219 341.6438,451.5781 C342.4875,452.0156 343.3781,452.2344 344.3,452.2344 C346.6281,452.2344 348.1906,451.0469 348.1906,449.2813 C348.1906,448.3906 347.8781,447.7031 347.1906,447.1563 C346.6594,446.7344 346.0188,446.4844 344.5344,446.2188 C343.2688,445.9844 343.175,445.9531 342.8469,445.7813 C342.4719,445.5938 342.2063,445.2031 342.2063,444.8438 C342.2063,444.1094 343.0656,443.5469 344.1281,443.5469 C345.1906,443.5469 346.0031,444.0156 346.1594,444.6875 C346.2688,445.2344 346.2688,445.2344 346.3938,445.375 C346.5344,445.5 346.7688,445.6094 347.0031,445.6094 C347.2688,445.6094 347.5188,445.4688 347.6906,445.25 C347.8,445.0781 347.8313,444.9375 347.8313,444.4688 L347.8313,442.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120" x="358.95" y="451.8467">PubSubInterface</text><line style="stroke:#000000;stroke-width:1.0;" x1="319" x2="494" y1="461" y2="461"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="165" x="324" y="477.9951">subscriber : Subscriber</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="134" x="324" y="494.292">provider : Provider</text></g><!--class PubSubFeature--><g id="elem_PubSubFeature"><rect codeline="44" fill="#FFFFFF" height="109.1875" id="PubSubFeature" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="148" x="748.5" y="226.5"></rect><ellipse cx="766.45" cy="240.5" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M770.2313,236.4688 C770.2313,236.0313 770.2156,235.8906 770.1219,235.7344 C769.9813,235.5 769.7,235.3438 769.4031,235.3438 C769.0594,235.3438 768.9188,235.4844 768.7469,235.9063 C768.1531,235.5313 767.4031,235.3438 766.5281,235.3438 C764.4188,235.3438 762.8406,236.6406 762.8406,238.3594 C762.8406,239.3281 763.3719,240.2344 764.2313,240.7188 C764.7781,241.0313 765.325,241.2031 766.4344,241.3906 C767.5906,241.5938 767.8563,241.6563 768.2156,241.8438 C768.5906,242.0469 768.825,242.3906 768.825,242.75 C768.825,243.4844 767.8406,244.0313 766.5906,244.0313 C765.4656,244.0313 764.3875,243.5469 764.2156,242.9375 C764.0906,242.4688 764.0906,242.4688 763.9656,242.3594 C763.8094,242.2031 763.5906,242.1094 763.3563,242.1094 C763.075,242.1094 762.825,242.2344 762.6531,242.4531 C762.5438,242.625 762.4969,242.8125 762.4969,243.2344 L762.4969,244.3594 C762.4969,245.125 762.7781,245.4844 763.3719,245.4844 C763.6375,245.4844 763.7625,245.4219 764.0438,245.0781 C764.8875,245.5156 765.7781,245.7344 766.7,245.7344 C769.0281,245.7344 770.5906,244.5469 770.5906,242.7813 C770.5906,241.8906 770.2781,241.2031 769.5906,240.6563 C769.0594,240.2344 768.4188,239.9844 766.9344,239.7188 C765.6688,239.4844 765.575,239.4531 765.2469,239.2813 C764.8719,239.0938 764.6063,238.7031 764.6063,238.3438 C764.6063,237.6094 765.4656,237.0469 766.5281,237.0469 C767.5906,237.0469 768.4031,237.5156 768.5594,238.1875 C768.6688,238.7344 768.6688,238.7344 768.7938,238.875 C768.9344,239 769.1688,239.1094 769.4031,239.1094 C769.6688,239.1094 769.9188,238.9688 770.0906,238.75 C770.2,238.5781 770.2313,238.4375 770.2313,237.9688 L770.2313,236.4688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="109" x="779.55" y="245.3467">PubSubFeature</text><line style="stroke:#000000;stroke-width:1.0;" x1="749.5" x2="895.5" y1="254.5" y2="254.5"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="754.5" y="271.4951">mutex : MutexId</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="136" x="754.5" y="287.792">relations : Relation</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="127" x="754.5" y="304.0889">identity : Identity</text><line style="stroke:#000000;stroke-width:1.0;" x1="749.5" x2="895.5" y1="311.3906" y2="311.3906"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="97" x="754.5" y="328.3857">GetRelation()</text></g><!--class FeatureImpl--><g id="elem_FeatureImpl"><rect codeline="50" fill="#FFFFFF" height="68.5938" id="FeatureImpl" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="163" x="530" y="433"></rect><ellipse cx="564.6" cy="447" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M568.3813,442.9688 C568.3813,442.5313 568.3656,442.3906 568.2719,442.2344 C568.1313,442 567.85,441.8438 567.5531,441.8438 C567.2094,441.8438 567.0688,441.9844 566.8969,442.4063 C566.3031,442.0313 565.5531,441.8438 564.6781,441.8438 C562.5688,441.8438 560.9906,443.1406 560.9906,444.8594 C560.9906,445.8281 561.5219,446.7344 562.3813,447.2188 C562.9281,447.5313 563.475,447.7031 564.5844,447.8906 C565.7406,448.0938 566.0063,448.1563 566.3656,448.3438 C566.7406,448.5469 566.975,448.8906 566.975,449.25 C566.975,449.9844 565.9906,450.5313 564.7406,450.5313 C563.6156,450.5313 562.5375,450.0469 562.3656,449.4375 C562.2406,448.9688 562.2406,448.9688 562.1156,448.8594 C561.9594,448.7031 561.7406,448.6094 561.5063,448.6094 C561.225,448.6094 560.975,448.7344 560.8031,448.9531 C560.6938,449.125 560.6469,449.3125 560.6469,449.7344 L560.6469,450.8594 C560.6469,451.625 560.9281,451.9844 561.5219,451.9844 C561.7875,451.9844 561.9125,451.9219 562.1938,451.5781 C563.0375,452.0156 563.9281,452.2344 564.85,452.2344 C567.1781,452.2344 568.7406,451.0469 568.7406,449.2813 C568.7406,448.3906 568.4281,447.7031 567.7406,447.1563 C567.2094,446.7344 566.5688,446.4844 565.0844,446.2188 C563.8188,445.9844 563.725,445.9531 563.3969,445.7813 C563.0219,445.5938 562.7563,445.2031 562.7563,444.8438 C562.7563,444.1094 563.6156,443.5469 564.6781,443.5469 C565.7406,443.5469 566.5531,444.0156 566.7094,444.6875 C566.8188,445.2344 566.8188,445.2344 566.9438,445.375 C567.0844,445.5 567.3188,445.6094 567.5531,445.6094 C567.8188,445.6094 568.0688,445.4688 568.2406,445.25 C568.35,445.0781 568.3813,444.9375 568.3813,444.4688 L568.3813,442.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="87" x="581.4" y="451.8467">FeatureImpl</text><line style="stroke:#000000;stroke-width:1.0;" x1="531" x2="692" y1="461" y2="461"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121" x="536" y="477.9951">feature : Feature</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="151" x="536" y="494.292">iUnknown : IUnknown</text></g><!--class Feature--><g id="elem_Feature"><rect codeline="54" fill="#FFFFFF" height="101.1875" id="Feature" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="203" x="728" y="417"></rect><ellipse cx="798.25" cy="431" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M802.0313,426.9688 C802.0313,426.5313 802.0156,426.3906 801.9219,426.2344 C801.7813,426 801.5,425.8438 801.2031,425.8438 C800.8594,425.8438 800.7188,425.9844 800.5469,426.4063 C799.9531,426.0313 799.2031,425.8438 798.3281,425.8438 C796.2188,425.8438 794.6406,427.1406 794.6406,428.8594 C794.6406,429.8281 795.1719,430.7344 796.0313,431.2188 C796.5781,431.5313 797.125,431.7031 798.2344,431.8906 C799.3906,432.0938 799.6563,432.1563 800.0156,432.3438 C800.3906,432.5469 800.625,432.8906 800.625,433.25 C800.625,433.9844 799.6406,434.5313 798.3906,434.5313 C797.2656,434.5313 796.1875,434.0469 796.0156,433.4375 C795.8906,432.9688 795.8906,432.9688 795.7656,432.8594 C795.6094,432.7031 795.3906,432.6094 795.1563,432.6094 C794.875,432.6094 794.625,432.7344 794.4531,432.9531 C794.3438,433.125 794.2969,433.3125 794.2969,433.7344 L794.2969,434.8594 C794.2969,435.625 794.5781,435.9844 795.1719,435.9844 C795.4375,435.9844 795.5625,435.9219 795.8438,435.5781 C796.6875,436.0156 797.5781,436.2344 798.5,436.2344 C800.8281,436.2344 802.3906,435.0469 802.3906,433.2813 C802.3906,432.3906 802.0781,431.7031 801.3906,431.1563 C800.8594,430.7344 800.2188,430.4844 798.7344,430.2188 C797.4688,429.9844 797.375,429.9531 797.0469,429.7813 C796.6719,429.5938 796.4063,429.2031 796.4063,428.8438 C796.4063,428.1094 797.2656,427.5469 798.3281,427.5469 C799.3906,427.5469 800.2031,428.0156 800.3594,428.6875 C800.4688,429.2344 800.4688,429.2344 800.5938,429.375 C800.7344,429.5 800.9688,429.6094 801.2031,429.6094 C801.4688,429.6094 801.7188,429.4688 801.8906,429.25 C802,429.0781 802.0313,428.9375 802.0313,428.4688 L802.0313,426.9688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="55" x="815.75" y="435.8467">Feature</text><line style="stroke:#000000;stroke-width:1.0;" x1="729" x2="930" y1="445" y2="445"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="78" x="734" y="461.9951">GetName()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="91" x="734" y="478.292">OnInitialize()</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="191" x="734" y="494.5889">OnStop() //停止对外提供特性</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="161" x="734" y="510.8857">OnMessage() //消息处理</text></g><!--class Relation--><g id="elem_Relation"><rect codeline="60" fill="#FFFFFF" height="84.8906" id="Relation" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="200" x="931.5" y="238.5"></rect><ellipse cx="997.75" cy="252.5" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"></ellipse><path d="M1001.5313,248.4688 C1001.5313,248.0313 1001.5156,247.8906 1001.4219,247.7344 C1001.2813,247.5 1001,247.3438 1000.7031,247.3438 C1000.3594,247.3438 1000.2188,247.4844 1000.0469,247.9063 C999.4531,247.5313 998.7031,247.3438 997.8281,247.3438 C995.7188,247.3438 994.1406,248.6406 994.1406,250.3594 C994.1406,251.3281 994.6719,252.2344 995.5313,252.7188 C996.0781,253.0313 996.625,253.2031 997.7344,253.3906 C998.8906,253.5938 999.1563,253.6563 999.5156,253.8438 C999.8906,254.0469 1000.125,254.3906 1000.125,254.75 C1000.125,255.4844 999.1406,256.0313 997.8906,256.0313 C996.7656,256.0313 995.6875,255.5469 995.5156,254.9375 C995.3906,254.4688 995.3906,254.4688 995.2656,254.3594 C995.1094,254.2031 994.8906,254.1094 994.6563,254.1094 C994.375,254.1094 994.125,254.2344 993.9531,254.4531 C993.8438,254.625 993.7969,254.8125 993.7969,255.2344 L993.7969,256.3594 C993.7969,257.125 994.0781,257.4844 994.6719,257.4844 C994.9375,257.4844 995.0625,257.4219 995.3438,257.0781 C996.1875,257.5156 997.0781,257.7344 998,257.7344 C1000.3281,257.7344 1001.8906,256.5469 1001.8906,254.7813 C1001.8906,253.8906 1001.5781,253.2031 1000.8906,252.6563 C1000.3594,252.2344 999.7188,251.9844 998.2344,251.7188 C996.9688,251.4844 996.875,251.4531 996.5469,251.2813 C996.1719,251.0938 995.9063,250.7031 995.9063,250.3438 C995.9063,249.6094 996.7656,249.0469 997.8281,249.0469 C998.8906,249.0469 999.7031,249.5156 999.8594,250.1875 C999.9688,250.7344 999.9688,250.7344 1000.0938,250.875 C1000.2344,251 1000.4688,251.1094 1000.7031,251.1094 C1000.9688,251.1094 1001.2188,250.9688 1001.3906,250.75 C1001.5,250.5781 1001.5313,250.4375 1001.5313,249.9688 L1001.5313,248.4688 Z " fill="#000000"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="60" x="1015.25" y="257.3467">Relation</text><line style="stroke:#000000;stroke-width:1.0;" x1="932.5" x2="1130.5" y1="266.5" y2="266.5"></line><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="151" x="937.5" y="283.4951">node : UTILS_DL_LIST</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="188" x="937.5" y="299.792">callbacks : ConsumerNode</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="91" x="937.5" y="316.0889">topic : Topic</text></g><g id="elem_GMN24"><path d="M562,58 L562,83.1328 A0,0 0 0 0 562,83.1328 L607.5,83.1328 L611.5,209.54 L615.5,83.1328 L661,83.1328 A0,0 0 0 0 661,83.1328 L661,68 L651,58 L562,58 A0,0 0 0 0 562,58 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M651,58 L651,68 L661,68 L651,58 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78" x="568" y="75.0669">提供对外接口</text></g><g id="elem_GMN27"><path d="M734,50.5 L734,90.7656 A0,0 0 0 0 734,90.7656 L818.5,90.7656 L822.5,226.408 L826.5,90.7656 L911,90.7656 A0,0 0 0 0 911,90.7656 L911,60.5 L901,50.5 L734,50.5 A0,0 0 0 0 734,50.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M901,50.5 L901,60.5 L911,60.5 L901,50.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="91" x="740" y="67.5669">广播的底层实现</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="156" x="740" y="82.6997">维护一个双向链表Relation</text></g><g id="elem_GMN30"><path d="M969,50.5 L969,90.7656 A0,0 0 0 0 969,90.7656 L1027.5,90.7656 L1031.5,238.277 L1035.5,90.7656 L1094,90.7656 A0,0 0 0 0 1094,90.7656 L1094,60.5 L1084,50.5 L969,50.5 A0,0 0 0 0 969,50.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M1084,50.5 L1084,60.5 L1094,60.5 L1084,50.5 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52" x="975" y="67.5669">双向链表</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="104" x="975" y="82.6997">维护主题和订阅者</text></g><!--link SamgrLiteImpl to ServiceImpl--><g id="link_SamgrLiteImpl_ServiceImpl"><path codeline="66" d="M282.5,129.025 C282.5,152.771 282.5,174.595 282.5,199.843 " fill="none" id="SamgrLiteImpl-to-ServiceImpl" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="282.5,205.843,286.5,196.843,282.5,200.843,278.5,196.843,282.5,205.843" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="115" x="283.5" y="172.0669">services-&gt;data[x]</text></g><!--reverse link BroadcastService to ServiceImpl--><g id="link_BroadcastService_ServiceImpl"><path codeline="67" d="M171.039,281 C182.663,281 188.287,281 199.91,281 " fill="none" id="BroadcastService-backto-ServiceImpl" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="165.039,281,174.039,285,170.039,281,174.039,277,165.039,281" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link ServiceImpl to PubSubImplement--><g id="link_ServiceImpl_PubSubImplement"><path codeline="68" d="M365.096,281 C411.54,281 463.678,281 511.817,281 " fill="none" id="ServiceImpl-to-PubSubImplement" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="517.817,281,508.817,277,512.817,281,508.817,285,517.817,281" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116" x="383.5" y="274.0669">features-&gt;data[x]</text></g><!--link BroadcastService to Service--><g id="link_BroadcastService_Service"><path codeline="69" d="M88.5,295.269 C88.5,320.304 88.5,357.677 88.5,398.712 " fill="none" id="BroadcastService-to-Service" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="88.5,416.712,94.5,398.712,82.5,398.712,88.5,416.712" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link PubSubImplement to PubSubInterface--><g id="link_PubSubImplement_PubSubInterface"><path codeline="70" d="M533.706,352.015 C502.897,379.742 482.3015,398.2788 457.2185,420.8528 " fill="none" id="PubSubImplement-to-PubSubInterface" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="443.839,432.894,461.2322,425.3127,453.2048,416.393,443.839,432.894" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link PubSubImplement to FeatureImpl--><g id="link_PubSubImplement_FeatureImpl"><path codeline="71" d="M611.5,352.015 C611.5,379.742 611.5,392.32 611.5,414.894 " fill="none" id="PubSubImplement-to-FeatureImpl" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="611.5,432.894,617.5,414.894,605.5,414.894,611.5,432.894" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link PubSubInterface to IUnknown--><g id="link_PubSubInterface_IUnknown"><path codeline="72" d="M406.5,502.234 C406.5,524.886 406.5,536.884 406.5,560.9999 " fill="none" id="PubSubInterface-to-IUnknown" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="406.5,578.9999,412.5,560.9999,400.5,560.9999,406.5,578.9999" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link PubSubImplement to PubSubFeature--><g id="link_PubSubImplement_PubSubFeature"><path codeline="73" d="M705.049,281 C719.424,281 727.8,281 742.175,281 " fill="none" id="PubSubImplement-to-PubSubFeature" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="748.175,281,739.175,277,743.175,281,739.175,285,748.175,281" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link PubSubFeature to Feature--><g id="link_PubSubFeature_Feature"><path codeline="74" d="M824.544,335.861 C825.516,361.494 825.9881,373.954 826.9391,399.003 " fill="none" id="PubSubFeature-to-Feature" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="827.622,416.99,832.9348,398.7753,820.9434,399.2306,827.622,416.99" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link PubSubFeature to Relation--><g id="link_PubSubFeature_Relation"><path codeline="75" d="M896.793,281 C908.282,281 913.77,281 925.259,281 " fill="none" id="PubSubFeature-to-Relation" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="931.259,281,922.259,277,926.259,281,922.259,285,931.259,281" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[VLJVJzH047xthwXly70XlXXp3oIWKIyvViY1ByIGRNTxjw7TRRPR1D4431Wr112Z8MfCH8p61D346904_nbw1_-5k-sstRtUsPUsyytCDpiptrxbBUGZA_009bSiyRGmH1Ro0xva-SYt4GiJSuEpoE5M0_XDLiSSrVp0MquG-InmsxEg1Pe3ViJHea36vBi6Stl80Oz20OnIoXl9Ju4Xje0T9D7xoE6K5KWBC0GdAPLaqo2Sbv-p3nByYL5ccg8ey0xYuy170uEvfKOmny33ZtJZ60f3q4Ht0O6URXVXakuc9IvkAhj1ECeeW0u8kS5ikDHco3oX3qbHrBq8iQKQuOYvmD7fHY2SGgvcc48U0Y7gnQm8pNce5bOpD0SWSa7ayP40L_E2Sf2hZXQzpI4NYH4n59P7ekXXrSA4NxkU0rZq5mbh9CmtSYiDH8g90370CILX-JYJaTs8R7aQiPQ45qS244xJ03jQLyB83Xs6RRrrFeNONHA32YCVCGs8I2_t8B8z7BOqYpgfMB2qbDlfVzzAi_4jbyjYKXBvJy79w88GcKGdrMU_x8hSs6En2qdpz4FtKHbJhb9AMLWn82ZwYuNCnIQept8PgW1pkueMwSr9SggLihgsgrVE_ubpWlIKvmHfS1eC35f3G_7gX_R1Ndnq4k-_RMzjdv-zxxmuQQzyrNoLc1Ftzk_dxTMZU7-ji_siN57M6wkeYL0e3pWpNQitvcxLv-grndGEEi3pRE3CoxvcgpOk0WeboKsLTrJoLeGfetw1MfNAi2vW4P5TVfLX23YONKmlDzsduY6NYxZkAySgUpBSR4dNBb49capF9aqfPQNoUDYuGxep9GvTIkZlg6sJxfG5fax6ufJIc4VIzy-m67ozu2nFBeihwTGvaiEpgDjDdU3ffgcjs_mIRtrEp8Z09BHV4hsE-EHlU-UWysuj_lCc_laqFlpOsVoH89tJN-sN- -V7A-V7t-EjZNZxrUNhiujFtmpbzgSotFHu8_dfvTvklBDnSRXtkRj-iR9k9Fq7]--></g></svg></p><h3 id="从轻量系统的拉起过程看服务注册与发现">从轻量系统的拉起过程看服务注册与发现 </h3>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token comment">//系统初始化</span>
<span class="token keyword keyword-void">void</span> <span class="token function">OHOS_SystemInit</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">MODULE_INIT</span><span class="token punctuation">(</span>bsp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">MODULE_INIT</span><span class="token punctuation">(</span>device<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">MODULE_INIT</span><span class="token punctuation">(</span>core<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SYS_INIT</span><span class="token punctuation">(</span>service<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//注册系统服务</span>
    <span class="token function">SYS_INIT</span><span class="token punctuation">(</span>feature<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//注册系统服务的特性</span>
    <span class="token function">MODULE_INIT</span><span class="token punctuation">(</span>run<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SAMGR_Bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//启功samgr并管理系统服务和特性</span>
<span class="token punctuation">}</span>
</code></pre><p>SYS_INIT()负责初始化由SYS_SERVICE_INIT，SYS_FEATURE_INIT宏进行修饰的服务和特性</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">LAYER_INITCALL</span><span class="token expression"><span class="token punctuation">(</span>func<span class="token punctuation">,</span> layer<span class="token punctuation">,</span> clayer<span class="token punctuation">,</span> <span class="token operator">&gt;</span>priority<span class="token punctuation">)</span>            </span><span class="token punctuation">\</span>
    <span class="token expression"><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-const">const</span> InitCall USED_ATTR <span class="token operator">&gt;</span>__zinitcall_</span><span class="token punctuation">##</span><span class="token expression">layer</span><span class="token punctuation">##</span><span class="token expression">_</span><span class="token punctuation">##</span><span class="token expression">func </span><span class="token punctuation">\</span>
        <span class="token expression"><span class="token keyword keyword-__attribute__">__attribute__</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">section</span><span class="token punctuation">(</span></span><span class="token string">".zinitcall."</span> <span class="token expression">clayer <span class="token operator">&gt;</span>#priority </span><span class="token string">".init"</span><span class="token expression"><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> func</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">LAYER_INITCALL_DEF</span><span class="token expression"><span class="token punctuation">(</span>func<span class="token punctuation">,</span> layer<span class="token punctuation">,</span> clayer<span class="token punctuation">)</span> </span><span class="token punctuation">\</span>
    <span class="token expression"><span class="token function">LAYER_INITCALL</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> layer<span class="token punctuation">,</span> clayer<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">SYS_SERVICE_INIT</span><span class="token expression"><span class="token punctuation">(</span>func<span class="token punctuation">)</span> <span class="token function">LAYER_INITCALL_DEF</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> sys_service<span class="token punctuation">,</span> </span><span class="token string">"sys.service"</span><span class="token expression"><span class="token punctuation">)</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">SYS_FEATURE_INIT</span><span class="token expression"><span class="token punctuation">(</span>func<span class="token punctuation">)</span> <span class="token function">LAYER_INITCALL_DEF</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> sys_feature<span class="token punctuation">,</span> </span><span class="token string">"sys.feature"</span><span class="token expression"><span class="token punctuation">)</span></span></span>

</code></pre><pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    PubSubFeature <span class="token operator">*</span>feature <span class="token operator">=</span> <span class="token operator">&amp;</span>g_broadcastFeature<span class="token punctuation">;</span>
    feature<span class="token operator">-&gt;</span>relations<span class="token punctuation">.</span>topic <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    feature<span class="token operator">-&gt;</span>relations<span class="token punctuation">.</span>callbacks<span class="token punctuation">.</span>consumer <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token function">UtilsListInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>feature<span class="token operator">-&gt;</span>relations<span class="token punctuation">.</span>callbacks<span class="token punctuation">.</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">UtilsListInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>feature<span class="token operator">-&gt;</span>relations<span class="token punctuation">.</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    feature<span class="token operator">-&gt;</span>mutex <span class="token operator">=</span> <span class="token function">MUTEX_InitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SAMGR_GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">RegisterFeature</span><span class="token punctuation">(</span>BROADCAST_SERVICE<span class="token punctuation">,</span> <span class="token punctuation">(</span>Feature <span class="token operator">*</span><span class="token punctuation">)</span>feature<span class="token punctuation">)</span><span class="token punctuation">;</span>

    PubSubImplement <span class="token operator">*</span>apiEntry <span class="token operator">=</span> <span class="token function">BCE_CreateInstance</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Feature <span class="token operator">*</span><span class="token punctuation">)</span>feature<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SAMGR_GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">RegisterFeatureApi</span><span class="token punctuation">(</span>BROADCAST_SERVICE<span class="token punctuation">,</span> PUB_SUB_FEATURE<span class="token punctuation">,</span> <span class="token function">GET_IUNKNOWN</span><span class="token punctuation">(</span><span class="token operator">*</span>apiEntry<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">SYS_FEATURE_INIT</span><span class="token punctuation">(</span>Init<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><p>其实现与Linux的initcall相似</p>
<blockquote>
<p>Linux内核使用了一个称为initcall的机制，该机制允许在内核启动时以特定的顺序执行初始化函数。initcall背后的基本思想是将一系列的初始化函数地址存储在特定的内存区段，然后在内核启动时按顺序执行这些函数。<br>
这个机制依赖GCC的特性，特别是__attribute__((section(...))),__attribute__((section(...)))将函数地址在链接时放入zInit代码段，而后由其它函数遍历这些段内的函数</p>
</blockquote>
<h4 id="boot_sys阶段">BOOT_SYS阶段 </h4>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="1357px" preserveAspectRatio="none" style="width:467px;height:1357px;background:#FFFFFF;" version="1.1" viewBox="0 0 467 1357" width="467px" zoomAndPan="magnify"><defs></defs><g><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="135" x="166" y="6"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="115" x="176" y="27.1387">OHOS_SystemInit()</text><rect fill="#FFFFFF" height="552.3125" style="stroke:#000000;stroke-width:1.0;" width="427" x="20" y="49.9688"></rect><path d="M114,49.9688 L114,59.2656 L104,69.2656 L20,69.2656 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="84" x="23" y="63.9639">注册系统服务</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="352" x="57.5" y="86.2656"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="332" x="67.5" y="107.4043">SYS_INIT(service)遍历所有SYS_SERVICE_INIT宏修饰的Init()</text><rect fill="#FFFFFF" height="352.1094" style="stroke:#000000;stroke-width:1.0;" width="407" x="30" y="130.2344"></rect><path d="M141,130.2344 L141,139.5313 L131,149.5313 L30,149.5313 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="101" x="33" y="144.2295">注册Bootstrap</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="103" x="182" y="166.5313"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="83" x="192" y="187.6699">注册Bootstrap</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="316" x="75.5" y="220.5"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="296" x="85.5" y="241.6387">调用SAMGR_GETInstance()获取单例对象g_samrImpl</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="125" x="171" y="274.4688"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="105" x="181" y="295.6074">g_samrImpl懒加载</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="269" x="99" y="328.4375"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="249" x="109" y="349.5762">调用g_samrImpl的RegisterService进行注册</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="351" x="58" y="382.4063"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="331" x="68" y="403.5449">为BootStrap(继承自Servcie)创建一个ServiceImpl进行管理</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="387" x="40" y="436.375"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="367" x="50" y="457.5137">将该ServiceImpl VECTOR_Add()到g_samrImpl的services字段中</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="105" x="181" y="502.3438"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="85" x="191" y="523.4824">注册Broadcast</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="84" x="191.5" y="556.3125"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="64" x="201.5" y="577.4512">注册Hiview</text><rect fill="#FFFFFF" height="418.3438" style="stroke:#000000;stroke-width:1.0;" width="426" x="20.5" y="612.2813"></rect><path d="M156.5,612.2813 L156.5,621.5781 L146.5,631.5781 L20.5,631.5781 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="126" x="23.5" y="626.2764">注册系统服务的特性</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="348" x="59.5" y="648.5781"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="328" x="69.5" y="669.7168">SYS_INIT(feature)遍历所有SYS_Feature_INIT宏修饰的Init()</text><rect fill="#FFFFFF" height="326.0781" style="stroke:#000000;stroke-width:1.0;" width="406" x="30.5" y="692.5469"></rect><path d="M315.5,692.5469 L315.5,701.8438 L305.5,711.8438 L30.5,711.8438 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="275" x="33.5" y="706.542">注册Broadcast的特性PUB_SUB_FEAFURE</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="279" x="94" y="728.8438"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="259" x="104" y="749.9824">调用g_samrImpl的RegisterFeature()注册特性</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="287" x="90" y="782.8125"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="267" x="100" y="803.9512">为PUB_SUB_FEAFURE创建FeatureImpl进行管理</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="386" x="40.5" y="836.7813"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="366" x="50.5" y="857.9199">将该FeatureImpl VECTOR_Add()到serviceImpl的features字段中</text><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="293" x="87" y="890.75"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="195" x="97" y="911.8887">创建特性接口g_pubSubImplement</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="273" x="97" y="925.8574">关联g_pubSubImplement与PubSubFeature对象</text><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="385" x="41" y="958.6875"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="247" x="51" y="979.8262">调用RegisterFeatureApi注册特性的默认接口</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="365" x="51" y="993.7949">使serviceImpl-&gt;defaultApi指向g_pubSubImplement.iUnknown</text><rect fill="#FFFFFF" height="310.4063" style="stroke:#000000;stroke-width:1.0;" width="455" x="6" y="1040.625"></rect><path d="M284,1040.625 L284,1049.9219 L274,1059.9219 L6,1059.9219 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="268" x="9" y="1054.6201">调用SAMGR_Bootstrap()启动服务和特性</text><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="304" x="81.5" y="1076.9219"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="284" x="91.5" y="1098.0605">samgr创建Vector initServices记录未初始化的服务</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="267" x="91.5" y="1112.0293">（根据serviceImpl的inited字段是否为SVC_INIT)</text><rect fill="#FFFFFF" height="204.1719" style="stroke:#000000;stroke-width:1.0;" width="435" x="16" y="1134.8594"></rect><path d="M357,1134.8594 L357,1144.1563 L347,1154.1563 L16,1154.1563 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="331" x="19" y="1148.8545">调用InitializeAllServices()初始化所有未初始化服务</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="287" x="90" y="1171.1563"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="267" x="100" y="1192.2949">调用AddTaskPool()为服务创建任务池和消息队列</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="415" x="26" y="1225.125"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="395" x="36" y="1246.2637">调用InitializeSingleService()向消息队列发送MSG_DIRECT的初始化消息</text><rect fill="#FFFFFF" height="47.9375" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="267" x="100" y="1279.0938"></rect><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="247" x="110" y="1300.2324">调用SAMGR_StartTaskPool()启动各服务线程</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="156" x="110" y="1314.2012">各服务循环监听各自消息队列</text><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="200.5" y2="220.5"></line><polygon fill="#000000" points="229.5,210.5,233.5,220.5,237.5,210.5,233.5,214.5" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="254.4688" y2="274.4688"></line><polygon fill="#000000" points="229.5,264.4688,233.5,274.4688,237.5,264.4688,233.5,268.4688" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="308.4375" y2="328.4375"></line><polygon fill="#000000" points="229.5,318.4375,233.5,328.4375,237.5,318.4375,233.5,322.4375" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="362.4063" y2="382.4063"></line><polygon fill="#000000" points="229.5,372.4063,233.5,382.4063,237.5,372.4063,233.5,376.4063" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="416.375" y2="436.375"></line><polygon fill="#000000" points="229.5,426.375,233.5,436.375,237.5,426.375,233.5,430.375" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="120.2344" y2="166.5313"></line><polygon fill="#000000" points="229.5,156.5313,233.5,166.5313,237.5,156.5313,233.5,160.5313" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="470.3438" y2="502.3438"></line><polygon fill="#000000" points="229.5,492.3438,233.5,502.3438,237.5,492.3438,233.5,496.3438" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="536.3125" y2="556.3125"></line><polygon fill="#000000" points="229.5,546.3125,233.5,556.3125,237.5,546.3125,233.5,550.3125" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="39.9688" y2="86.2656"></line><polygon fill="#000000" points="229.5,76.2656,233.5,86.2656,237.5,76.2656,233.5,80.2656" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="762.8125" y2="782.8125"></line><polygon fill="#000000" points="229.5,772.8125,233.5,782.8125,237.5,772.8125,233.5,776.8125" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="816.7813" y2="836.7813"></line><polygon fill="#000000" points="229.5,826.7813,233.5,836.7813,237.5,826.7813,233.5,830.7813" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="870.75" y2="890.75"></line><polygon fill="#000000" points="229.5,880.75,233.5,890.75,237.5,880.75,233.5,884.75" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="938.6875" y2="958.6875"></line><polygon fill="#000000" points="229.5,948.6875,233.5,958.6875,237.5,948.6875,233.5,952.6875" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="682.5469" y2="728.8438"></line><polygon fill="#000000" points="229.5,718.8438,233.5,728.8438,237.5,718.8438,233.5,722.8438" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="590.2813" y2="648.5781"></line><polygon fill="#000000" points="229.5,638.5781,233.5,648.5781,237.5,638.5781,233.5,642.5781" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="1205.125" y2="1225.125"></line><polygon fill="#000000" points="229.5,1215.125,233.5,1225.125,237.5,1215.125,233.5,1219.125" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="1259.0938" y2="1279.0938"></line><polygon fill="#000000" points="229.5,1269.0938,233.5,1279.0938,237.5,1269.0938,233.5,1273.0938" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="1124.8594" y2="1171.1563"></line><polygon fill="#000000" points="229.5,1161.1563,233.5,1171.1563,237.5,1161.1563,233.5,1165.1563" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="233.5" x2="233.5" y1="1006.625" y2="1076.9219"></line><polygon fill="#000000" points="229.5,1066.9219,233.5,1076.9219,237.5,1066.9219,233.5,1070.9219" style="stroke:#000000;stroke-width:1.0;"></polygon><!--SRC=[ZLHTJnf157tlhw1lyD3-04sQe4NbmMfO9EdJPeMHRbnsoUwYQUC3f2s2ycdyIhLHqbe9gO0nRT4jycTsPfUd_eNExepkyg4joIRaphtddhddp7sglW49u4aA72y-yU3VniBS0iCoRnKL988YhsxOqOcXgDStQSVZifHAUj1L7MOBnfLcQ2Vek0YtQgI8USsmmLV1i5S1yXeV1Rv-fWXBMPHFe-EyTSW4Gf7WTC1EWisotclspzh6fmyFjPYI95LHPIv9y8U297_2RBytTkkCVtusnCu6ma5HKJan2hm-i_GBblTXSK-_tOQjQ_Eo5cSLBY474qc1rZe1jBa3jqxDRdS0rJd7B4CWpkE1o0ovdTaxCci5meaMwPqRYnrZiVCQsZdAzypDXfKVvO4FvewWTgDtqdgdGJ4iP89ZD6j69KjnO3jhjivSEPv8O3gy46BziPWNuxG7UD5fA_3Y03L_w9qBWWB461dcmF1aYOj5EKMTT4Vd-3KUh8yhUqXmtDR8NwFq-P3oAu1JK_AeyZCa_l_At_6yRxIuDCKo-9i9-6UMGe5_gaGxUdsKl0tYw3G4HxIXDO-guiePLaLn1CD4w2Y6PPaWhGWVL3g3vIznDfbQPbBBLY5-dQ9g9yAFLsPcT-HCxvGMxGWbGfmzuDgX4VYJl7i6c5fVEpIRNqbpkr3lzbpadxs8WHKk9QXMPM4JLgeZB9xpI-AgAAsBuqmppaBkLth_Wl7KAYsuLIUUWZi5jwUmfd6P32i2egeaUtXi5lee5BFPXjqzTDo0kS_mV1iMzl6zNClep-ySEhr6nUQWA1O4Y159q64BLhvXBp2HQTkO0puaX2r_yfp0lmD-GRZhRObDcnA7kscu5oB1mFO8SyhgeYG9NXzkHszBje6cuV_eyXHV7ltCeKohVtW2SmS3UZea65wC2u3oiAPNTHV1ShMVpimpi-pBO0XR4z_NeMNdZLcPZCh9giEF208hT9R6JS-eRnC_tiNWRSCejOoZAgnynq6yuKQPFs28lm00]--></g></svg></p><h4 id="initializesingleservice启动特性">InitializeSingleService启动特性 </h4>
<p class="plantuml"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="236px" preserveAspectRatio="none" style="width:822px;height:236px;background:#FFFFFF;" version="1.1" viewBox="0 0 822 236" width="822px" zoomAndPan="magnify"><defs></defs><g><rect fill="#FFFFFF" height="57.1328" style="stroke:#000000;stroke-width:1.0;" width="10" x="542" y="125.6953"></rect><rect fill="#FFFFFF" height="14" style="stroke:#000000;stroke-width:1.0;" width="10" x="741" y="154.8281"></rect><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="50" x2="50" y1="36.2969" y2="200.8281"></line><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="330.5" x2="330.5" y1="36.2969" y2="200.8281"></line><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="547" x2="547" y1="36.2969" y2="200.8281"></line><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="745.5" x2="745.5" y1="36.2969" y2="200.8281"></line><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="60" x="20" y="5"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="46" x="27" y="24.9951">Samgr</text><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="60" x="20" y="199.8281"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="46" x="27" y="219.8232">Samgr</text><path d="M297.5,10 L364.5,10 C369.5,10 369.5,23.1484 369.5,23.1484 C369.5,23.1484 369.5,36.2969 364.5,36.2969 L297.5,36.2969 C292.5,36.2969 292.5,23.1484 292.5,23.1484 C292.5,23.1484 292.5,10 297.5,10 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M364.5,10 C359.5,10 359.5,23.1484 359.5,23.1484 C359.5,36.2969 364.5,36.2969 364.5,36.2969 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57" x="297.5" y="27.9951">MQueue</text><path d="M297.5,199.8281 L364.5,199.8281 C369.5,199.8281 369.5,212.9766 369.5,212.9766 C369.5,212.9766 369.5,226.125 364.5,226.125 L297.5,226.125 C292.5,226.125 292.5,212.9766 292.5,212.9766 C292.5,212.9766 292.5,199.8281 297.5,199.8281 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M364.5,199.8281 C359.5,199.8281 359.5,212.9766 359.5,212.9766 C359.5,226.125 364.5,226.125 364.5,226.125 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57" x="297.5" y="217.8232">MQueue</text><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="86" x="504" y="5"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="511" y="24.9951">Broadcast</text><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="86" x="504" y="199.8281"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="511" y="219.8232">Broadcast</text><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="141" x="675.5" y="5"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="127" x="682.5" y="24.9951">BroadcastFeature</text><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="141" x="675.5" y="199.8281"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="127" x="682.5" y="219.8232">BroadcastFeature</text><rect fill="#FFFFFF" height="57.1328" style="stroke:#000000;stroke-width:1.0;" width="10" x="542" y="125.6953"></rect><rect fill="#FFFFFF" height="14" style="stroke:#000000;stroke-width:1.0;" width="10" x="741" y="154.8281"></rect><polygon fill="#000000" points="319,78.5625,329,82.5625,319,86.5625,323,82.5625" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="50" x2="325" y1="82.5625" y2="82.5625"></line><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="150" x="57" y="62.3638">发送type为MSG_DIRECT</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="257" x="57" y="77.4966">且handle为HandleInitRequest()的request</text><polygon fill="#000000" points="61,92.5625,51,96.5625,61,100.5625,57,96.5625" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55" x2="330" y1="96.5625" y2="96.5625"></line><polygon fill="#000000" points="530,121.6953,540,125.6953,530,129.6953,534,125.6953" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="331" x2="536" y1="125.6953" y2="125.6953"></line><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="192" x="338" y="120.6294">循环监听消息队列，获取request</text><polygon fill="#000000" points="729,150.8281,739,154.8281,729,158.8281,733,154.8281" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="552" x2="735" y1="154.8281" y2="154.8281"></line><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="170" x="559" y="149.7622">调用OnInitialize()进行初始化</text><polygon fill="#000000" points="563,164.8281,553,168.8281,563,172.8281,559,168.8281" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="557" x2="745" y1="168.8281" y2="168.8281"></line><polygon fill="#000000" points="342,178.8281,332,182.8281,342,186.8281,338,182.8281" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="336" x2="546" y1="182.8281" y2="182.8281"></line><!--MD5=[1ff60e6dfb130a0860e4ba17611e4dd6]
@startuml
!theme plain
    Participant Samgr
    Queue MQueue
    Samgr -> MQueue : 发送type为MSG_DIRECT\n且handle为HandleInitRequest()的request
    MQueue - -> Samgr
    MQueue -> Broadcast : 循环监听消息队列，获取request
    activate Broadcast
    Broadcast -> BroadcastFeature : 调用OnInitialize()进行初始化
    activate BroadcastFeature
    BroadcastFeature - -> Broadcast : 
    deactivate BroadcastFeature
    Broadcast - -> MQueue
    deactivate Broadcast
@enduml

@startuml







<style>
  root {
    BackgroundColor white
    FontColor black
    FontName Verdana
    HyperLinkColor blue
    LineColor black
    LineThickness 1
    Margin 5
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  header {
    LineThickness 0
  }
  node {
    MaximumWidth 300
  }
  title {
    FontSize 22
    LineThickness 0
  }
</style>

skinparam ArrowLollipopColor black
skinparam BackgroundColor white
skinparam DefaultFontName Verdana
skinparam DefaultMonospacedFontName Courier
skinparam LifelineStrategy nosolid
skinparam ParticipantPadding 10
skinparam SequenceLifeLineBorderColor black
skinparam Shadowing false
skinparam UseBetaStyle true

skinparam Activity {
  BackgroundColor white
  BarColor black
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam Boundary {
  FontColor black
}
skinparam Box {
  Padding 5
}
skinparam CircledCharacter {
  FontColor black
  FontName Courier
  Radius 9
}
skinparam Class {
  BackgroundColor white
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam ClassAttribute {
  FontColor black
  FontName Verdana
}
skinparam ClassStereotype {
  FontColor black
  FontName Verdana
}
skinparam Footer {
  FontColor black
  FontName Verdana
}
skinparam Header {
  FontColor black
  FontName Verdana
}
skinparam Hyperlink {
  Color blue
}
skinparam IconPackage {
  Color black
  BackgroundColor white
}
skinparam IconPrivate {
  Color black
  BackgroundColor white
}
skinparam IconProtected {
  Color black
  BackgroundColor white
}
skinparam IconPublic {
  Color black
  BackgroundColor white
}
skinparam Note {
  FontColor black
  FontName Verdana
}
skinparam Object {
  BorderColor black
}
skinparam Package {
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam State {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeA {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeC {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeE {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeI {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeN {
  BackgroundColor white
  BorderColor black
}
skinparam UseCaseStereoType {
  FontColor black
  FontName Verdana
}
    Participant Samgr
    Queue MQueue
    Samgr -> MQueue : 发送type为MSG_DIRECT\n且handle为HandleInitRequest()的request
    MQueue - -> Samgr
    MQueue -> Broadcast : 循环监听消息队列，获取request
    activate Broadcast
    Broadcast -> BroadcastFeature : 调用OnInitialize()进行初始化
    activate BroadcastFeature
    BroadcastFeature - -> Broadcast : 
    deactivate BroadcastFeature
    Broadcast - -> MQueue
    deactivate Broadcast
@enduml

PlantUML version 1.2021.15beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></p><h4 id="boot_app阶段">BOOT_APP阶段 </h4>
<p>所有由SYS_SERVICE_INIT()和SYS_FEATURE_INIT()修饰的服务与特性启动完毕,接下来启动由SYSEX_SERVICE_INIT,SYSEX_FEATURE_INIT,APP_SERVICE_INIT,APP_FEATURE_INIT修饰的服务与特性</p>
<p class="plantuml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="253px" preserveAspectRatio="none" style="width:901px;height:253px;background:#FFFFFF;" version="1.1" viewBox="0 0 901 253" width="901px" zoomAndPan="magnify"><defs></defs><g><rect fill="#FFFFFF" height="66.1328" style="stroke:#000000;stroke-width:1.0;" width="10" x="525" y="126.8594"></rect><rect fill="#FFFFFF" height="37" style="stroke:#000000;stroke-width:1.0;" width="10" x="744.5" y="155.9922"></rect><line style="stroke:#000000;stroke-width:1.0;" x1="50" x2="50" y1="52.5938" y2="201.9922"></line><line style="stroke:#000000;stroke-width:1.0;" x1="313.5" x2="313.5" y1="52.5938" y2="201.9922"></line><line style="stroke:#000000;stroke-width:1.0;" x1="529.5" x2="529.5" y1="52.5938" y2="201.9922"></line><line style="stroke:#000000;stroke-width:1.0;" x1="749.5" x2="749.5" y1="52.5938" y2="201.9922"></line><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60" x="20" y="21.2969"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="46" x="27" y="41.292">Samgr</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60" x="20" y="200.9922"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="46" x="27" y="220.9873">Samgr</text><path d="M280.5,26.2969 L347.5,26.2969 C352.5,26.2969 352.5,39.4453 352.5,39.4453 C352.5,39.4453 352.5,52.5938 347.5,52.5938 L280.5,52.5938 C275.5,52.5938 275.5,39.4453 275.5,39.4453 C275.5,39.4453 275.5,26.2969 280.5,26.2969 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M347.5,26.2969 C342.5,26.2969 342.5,39.4453 342.5,39.4453 C342.5,52.5938 347.5,52.5938 347.5,52.5938 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57" x="280.5" y="44.292">MQueue</text><path d="M280.5,200.9922 L347.5,200.9922 C352.5,200.9922 352.5,214.1406 352.5,214.1406 C352.5,214.1406 352.5,227.2891 347.5,227.2891 L280.5,227.2891 C275.5,227.2891 275.5,214.1406 275.5,214.1406 C275.5,214.1406 275.5,200.9922 280.5,200.9922 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"></path><path d="M347.5,200.9922 C342.5,200.9922 342.5,214.1406 342.5,214.1406 C342.5,227.2891 347.5,227.2891 347.5,227.2891 " fill="none" style="stroke:#000000;stroke-width:1.0;"></path><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57" x="280.5" y="218.9873">MQueue</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="87" x="486.5" y="21.2969"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="73" x="493.5" y="41.292">Bootstrap</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="87" x="486.5" y="200.9922"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="73" x="493.5" y="220.9873">Bootstrap</text><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="292" x="603.5" y="5"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="278" x="610.5" y="24.9951">由SYSEX\APP_SERVICE\FEATURE_INIT宏</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="112" x="693.5" y="41.292">修饰的服务与特性</text><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="292" x="603.5" y="200.9922"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="278" x="610.5" y="220.9873">由SYSEX\APP_SERVICE\FEATURE_INIT宏</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="112" x="693.5" y="237.2842">修饰的服务与特性</text><rect fill="#FFFFFF" height="66.1328" style="stroke:#000000;stroke-width:1.0;" width="10" x="525" y="126.8594"></rect><rect fill="#FFFFFF" height="37" style="stroke:#000000;stroke-width:1.0;" width="10" x="744.5" y="155.9922"></rect><polygon fill="#000000" points="302,79.7266,312,83.7266,302,87.7266,306,83.7266" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="50" x2="308" y1="83.7266" y2="83.7266"></line><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="240" x="57" y="78.6606">发送BOOT_SYS_COMPLETED的request</text><polygon fill="#000000" points="61,93.7266,51,97.7266,61,101.7266,57,97.7266" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55" x2="313" y1="97.7266" y2="97.7266"></line><polygon fill="#000000" points="513,122.8594,523,126.8594,513,130.8594,517,126.8594" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="314" x2="519" y1="126.8594" y2="126.8594"></line><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="192" x="321" y="121.7935">循环监听消息队列，获取request</text><polygon fill="#000000" points="732.5,151.9922,742.5,155.9922,732.5,159.9922,736.5,155.9922" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="535" x2="738.5" y1="155.9922" y2="155.9922"></line><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="104" x="542" y="150.9263">INIT_APP_CALL()</text><polygon fill="#000000" points="546,165.9922,536,169.9922,546,173.9922,542,169.9922" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="540" x2="743.5" y1="169.9922" y2="169.9922"></line><polygon fill="#000000" points="325,179.9922,315,183.9922,325,187.9922,321,183.9922" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="319" x2="524" y1="183.9922" y2="183.9922"></line><!--SRC=[Kop9ICrDLIZ8ISpCur80We34efBCvCo2nBmIXU34tFGYi6XWQMffge8lc08BWAKKTEsWOWfM2a_x9xviQ7Jozm-93uuCZdVszmtmSGrnTNa-gwKejR0qjRW4h16gNXUe5M4yJD1EmIa_lwIuf2Yn06JYlbNF-zO_dptnwOGrpxPrF6jS_tB6_ASTqz_lwNdHj_rf_pHaSnEJIpBB4ajI4IQ0XH7c0GrNUZvb8z1jhX4nZW41yS6kGM6UpgunRgwE8Q51hl6UVfuXJzVrn-GzsR_kvT8DG7S_czFxj6lXanrzppjtFcjOhWHq4qXHF4YtiwEFZuOcgjMKcWysZM97wY878teWm6CC0000]--></g></svg></p><h4 id="boot_app阶段-1">BOOT_APP阶段 </h4>
<p>所有由SYSEX_SERVICE_INIT,SYSEX_FEATURE_INIT,APP_SERVICE_INIT,APP_FEATURE_INIT修饰的服务与特性启动完毕</p>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>